2025-05-07 15:02:27.094 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:02:27.296 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-07 15:02:27.298 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-07 15:02:27.359 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-07 15:02:27.360 +02:00 [INF] Hosting environment: Development
2025-05-07 15:02:27.361 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-07 15:02:36.098 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - null null
2025-05-07 15:02:36.131 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:02:36.136 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - 204 null null 43.2055ms
2025-05-07 15:02:36.139 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/members/get-users - null null
2025-05-07 15:02:36.149 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:02:36.227 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:02:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-07 15:02:36.232 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:02:36'.
2025-05-07 15:02:36.235 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-07 15:02:36.255 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Members"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUsers() on controller BookCatalog_API.Controllers.MembersController (BookCatalog_API).
2025-05-07 15:02:37.006 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-07 15:02:37.009 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:02:37.010 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 3.9319ms
2025-05-07 15:02:37.012 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-07 15:02:37.017 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:02:37.019 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:02:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-07 15:02:37.021 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:02:37'.
2025-05-07 15:02:37.022 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:02:37.026 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 15:02:37.439 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
FROM [Users] AS [u]
2025-05-07 15:02:37.439 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-07 15:02:37.509 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-05-07 15:02:37.509 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.MemberDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:02:37.514 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 482.7855ms
2025-05-07 15:02:37.515 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:02:37.520 +02:00 [INF] Executed action BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API) in 1263.4589ms
2025-05-07 15:02:37.522 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-07 15:02:37.523 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 204 null null 511.311ms
2025-05-07 15:02:37.523 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/members/get-users - 200 null application/json; charset=utf-8 1384.041ms
2025-05-07 15:02:40.112 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-07 15:02:40.115 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:02:40.118 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:02:40'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-07 15:02:40.121 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:02:40'.
2025-05-07 15:02:40.122 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:02:40.124 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 15:02:40.180 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-07 15:02:40.184 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-05-07 15:02:40.186 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 60.1723ms
2025-05-07 15:02:40.187 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:02:40.187 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 204 null null 75.5849ms
2025-05-07 15:02:57.527 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:02:57.696 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-07 15:02:57.705 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-07 15:02:57.749 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-07 15:02:57.752 +02:00 [INF] Hosting environment: Development
2025-05-07 15:02:57.752 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-07 15:03:00.130 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-07 15:03:00.152 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:03:00.158 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 31.2232ms
2025-05-07 15:03:00.161 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-07 15:03:00.166 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:03:00.216 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:03:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-07 15:03:00.220 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:03:00'.
2025-05-07 15:03:00.222 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:03:00.232 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 15:03:00.849 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-07 15:03:04.162 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 3925.759ms
2025-05-07 15:03:04.165 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:03:04.237 +02:00 [ERR] An unhandled exception ocurred
System.ArgumentNullException: Value cannot be null. (Parameter 'Null exception test')
   at BookCatalog_API.Controllers.BookController.GetBookLogs() in C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API\Controllers\BookController.cs:line 134
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookCatalog_API.Middleware.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API\Middleware\ExceptionHandlingMiddleware.cs:line 18
2025-05-07 15:03:04.270 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 400 null application/json; charset=utf-8 4109.1713ms
2025-05-07 15:06:59.953 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:07:00.127 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-07 15:07:00.128 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-07 15:07:00.163 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-07 15:07:00.164 +02:00 [INF] Hosting environment: Development
2025-05-07 15:07:00.166 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-07 15:07:05.763 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-07 15:07:05.790 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:07:05.797 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 37.9763ms
2025-05-07 15:07:05.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-07 15:07:05.808 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:07:05.866 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:07:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-07 15:07:05.871 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:07:05'.
2025-05-07 15:07:05.873 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:07:05.885 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 15:07:06.746 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-07 15:07:11.220 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 5330.3122ms
2025-05-07 15:07:11.222 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:07:11.286 +02:00 [ERR] An unhandled exception ocurred
System.ArgumentNullException: Value cannot be null. (Parameter 'Null exception test')
   at BookCatalog_API.Controllers.BookController.GetBookLogs() in C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API\Controllers\BookController.cs:line 134
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BookCatalog_API.Middleware.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API\Middleware\ExceptionHandlingMiddleware.cs:line 18
2025-05-07 15:07:11.317 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 400 null application/json; charset=utf-8 5515.7523ms
2025-05-07 15:53:47.527 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:53:47.673 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-07 15:53:47.673 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-07 15:53:47.708 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-07 15:53:47.710 +02:00 [INF] Hosting environment: Development
2025-05-07 15:53:47.710 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-07 15:53:53.243 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-07 15:53:53.267 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:53:53.297 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 56.9112ms
2025-05-07 15:53:53.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-07 15:53:53.308 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:53:53.363 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:53:53'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-07 15:53:53.367 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:53:53'.
2025-05-07 15:53:53.371 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:53:53.383 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 15:53:54.224 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-07 15:53:54.323 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-05-07 15:53:54.327 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 940.6631ms
2025-05-07 15:53:54.328 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:53:54.336 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 204 null null 1036.2054ms
2025-05-07 15:53:54.495 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-07 15:53:54.499 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:53:54.501 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:53:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-07 15:53:54.504 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:53:54'.
2025-05-07 15:53:54.505 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:53:54.506 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 15:53:54.557 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-07 15:53:54.560 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-05-07 15:53:54.561 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 53.2032ms
2025-05-07 15:53:54.562 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:53:54.563 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 204 null null 68.0016ms
2025-05-07 15:53:55.800 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - null null
2025-05-07 15:53:55.804 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:53:55.806 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - 204 null null 6.1615ms
2025-05-07 15:53:55.808 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/members/get-users - null null
2025-05-07 15:53:55.813 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:53:55.817 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:53:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-07 15:53:55.821 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:53:55'.
2025-05-07 15:53:55.822 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-07 15:53:55.827 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Members"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUsers() on controller BookCatalog_API.Controllers.MembersController (BookCatalog_API).
2025-05-07 15:53:55.853 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
FROM [Users] AS [u]
2025-05-07 15:53:55.876 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.MemberDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:53:55.885 +02:00 [INF] Executed action BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API) in 55.9113ms
2025-05-07 15:53:55.886 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-07 15:53:55.887 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/members/get-users - 200 null application/json; charset=utf-8 79.1375ms
2025-05-07 15:53:57.300 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-07 15:53:57.306 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:53:57.307 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 6.3709ms
2025-05-07 15:53:57.308 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-07 15:53:57.311 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:53:57.312 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:53:57'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-07 15:53:57.315 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:53:57'.
2025-05-07 15:53:57.316 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-07 15:53:57.320 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-07 15:54:50.421 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:54:50.569 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-07 15:54:50.570 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-07 15:54:50.603 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-07 15:54:50.604 +02:00 [INF] Hosting environment: Development
2025-05-07 15:54:50.605 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-07 15:54:58.686 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-07 15:54:58.717 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:54:58.721 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 38.9831ms
2025-05-07 15:54:58.725 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-07 15:54:58.736 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:54:58.806 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:54:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-07 15:54:58.813 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:54:58'.
2025-05-07 15:54:58.816 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-07 15:54:58.833 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-07 15:57:57.323 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 15:57:57.499 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-07 15:57:57.500 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-07 15:57:57.535 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-07 15:57:57.536 +02:00 [INF] Hosting environment: Development
2025-05-07 15:57:57.537 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-07 15:58:07.599 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-07 15:58:07.632 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:58:07.640 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 45.1591ms
2025-05-07 15:58:07.643 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-07 15:58:07.654 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:58:07.723 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:58:07'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-07 15:58:07.728 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:58:07'.
2025-05-07 15:58:07.731 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:58:07.748 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 15:58:08.871 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-07 15:58:08.965 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-05-07 15:58:08.969 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 1217.4739ms
2025-05-07 15:58:08.971 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-07 15:58:08.982 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 204 null null 1338.2198ms
2025-05-07 15:58:09.268 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - null null
2025-05-07 15:58:09.271 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:58:09.272 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - 204 null null 4.0761ms
2025-05-07 15:58:09.274 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/members/get-users - null null
2025-05-07 15:58:09.277 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:58:09.279 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:58:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-07 15:58:09.282 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:58:09'.
2025-05-07 15:58:09.283 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-07 15:58:09.287 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Members"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUsers() on controller BookCatalog_API.Controllers.MembersController (BookCatalog_API).
2025-05-07 15:58:09.344 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
FROM [Users] AS [u]
2025-05-07 15:58:09.367 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.MemberDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:58:09.376 +02:00 [INF] Executed action BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API) in 86.5335ms
2025-05-07 15:58:09.377 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-07 15:58:09.378 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/members/get-users - 200 null application/json; charset=utf-8 104.41ms
2025-05-07 15:58:10.992 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-07 15:58:11.010 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:58:11.013 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 20.572ms
2025-05-07 15:58:11.015 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-07 15:58:11.020 +02:00 [INF] CORS policy execution successful.
2025-05-07 15:58:11.023 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:58:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-07 15:58:11.026 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06.05.2025 14:45:20', Current time (UTC): '07.05.2025 13:58:11'.
2025-05-07 15:58:11.027 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-07 15:58:11.031 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-07 15:58:11.053 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-07 15:58:11.074 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 15:58:11.091 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 58.8852ms
2025-05-07 15:58:11.092 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-07 15:58:11.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 78.4304ms
2025-05-07 16:00:04.272 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 16:00:04.421 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-07 16:00:04.422 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-07 16:00:04.457 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-07 16:00:04.458 +02:00 [INF] Hosting environment: Development
2025-05-07 16:00:04.458 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-07 16:00:15.787 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/account/login - null null
2025-05-07 16:00:15.805 +02:00 [INF] CORS policy execution successful.
2025-05-07 16:00:15.812 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/account/login - 204 null null 27.2505ms
2025-05-07 16:00:15.815 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7261/api/account/login - application/json 50
2025-05-07 16:00:15.819 +02:00 [INF] CORS policy execution successful.
2025-05-07 16:00:15.842 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AccountController.Login (BookCatalog_API)'
2025-05-07 16:00:15.854 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookCatalog_API.DTOs.UserDto]] Login(BookCatalog_API.DTOs.LoginDto) on controller BookCatalog_API.Controllers.AccountController (BookCatalog_API).
2025-05-07 16:00:16.588 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-07 16:00:16.645 +02:00 [INF] Executing ObjectResult, writing value of type 'BookCatalog_API.DTOs.UserDto'.
2025-05-07 16:00:16.650 +02:00 [INF] Executed action BookCatalog_API.Controllers.AccountController.Login (BookCatalog_API) in 793.5026ms
2025-05-07 16:00:16.651 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AccountController.Login (BookCatalog_API)'
2025-05-07 16:00:16.656 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7261/api/account/login - 200 null application/json; charset=utf-8 841.1579ms
2025-05-07 16:00:18.176 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - null null
2025-05-07 16:00:18.181 +02:00 [INF] CORS policy execution successful.
2025-05-07 16:00:18.181 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - 204 null null 5.408ms
2025-05-07 16:00:18.184 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/members/get-users - null null
2025-05-07 16:00:18.191 +02:00 [INF] CORS policy execution successful.
2025-05-07 16:00:18.209 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-07 16:00:18.212 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Members"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUsers() on controller BookCatalog_API.Controllers.MembersController (BookCatalog_API).
2025-05-07 16:00:18.283 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
FROM [Users] AS [u]
2025-05-07 16:00:18.291 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.MemberDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 16:00:18.293 +02:00 [INF] Executed action BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API) in 79.7402ms
2025-05-07 16:00:18.295 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-07 16:00:18.296 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/members/get-users - 200 null application/json; charset=utf-8 111.8402ms
2025-05-07 16:00:19.496 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-07 16:00:19.499 +02:00 [INF] CORS policy execution successful.
2025-05-07 16:00:19.501 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 5.0869ms
2025-05-07 16:00:19.502 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-07 16:00:19.505 +02:00 [INF] CORS policy execution successful.
2025-05-07 16:00:19.507 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-07 16:00:19.509 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-07 16:00:19.548 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-07 16:00:19.561 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 16:00:19.570 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 59.7788ms
2025-05-07 16:00:19.571 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-07 16:00:19.572 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 69.7194ms
2025-05-07 23:31:35.850 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 23:31:36.107 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-07 23:31:36.108 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-07 23:31:36.150 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-07 23:31:36.150 +02:00 [INF] Hosting environment: Development
2025-05-07 23:31:36.151 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-07 23:31:36.152 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-07 23:31:36.210 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:31:36.214 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 65.0959ms
2025-05-07 23:31:36.217 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-07 23:31:36.228 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:31:36.294 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-07 23:31:36.314 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-07 23:31:37.146 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-07 23:31:37.221 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:31:37.244 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 926.455ms
2025-05-07 23:31:37.245 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-07 23:31:37.252 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 1034.9693ms
2025-05-07 23:32:02.327 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/account/register - null null
2025-05-07 23:32:02.330 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:32:02.331 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/account/register - 204 null null 4.6759ms
2025-05-07 23:32:02.334 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7261/api/account/register - application/json 68
2025-05-07 23:32:02.337 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:32:02.339 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AccountController.Register (BookCatalog_API)'
2025-05-07 23:32:02.347 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookCatalog_API.DTOs.UserDto]] Register(BookCatalog_API.DTOs.RegisterDto) on controller BookCatalog_API.Controllers.AccountController (BookCatalog_API).
2025-05-07 23:32:02.637 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-07 23:32:02.744 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (Size = 8000) (DbType = Binary), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [PasswordHash], [PasswordSalt], [Role], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-07 23:32:02.777 +02:00 [INF] Executing ObjectResult, writing value of type 'BookCatalog_API.DTOs.UserDto'.
2025-05-07 23:32:02.780 +02:00 [INF] Executed action BookCatalog_API.Controllers.AccountController.Register (BookCatalog_API) in 430.6814ms
2025-05-07 23:32:02.781 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AccountController.Register (BookCatalog_API)'
2025-05-07 23:32:02.783 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7261/api/account/register - 200 null application/json; charset=utf-8 448.9898ms
2025-05-07 23:32:45.792 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:32:45.795 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:32:45.796 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 4.2027ms
2025-05-07 23:32:45.798 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:32:45.803 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:32:45.806 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:32:45.810 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:32:45.880 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:32:45.925 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:32:45.929 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:32:45.941 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 127.9521ms
2025-05-07 23:32:45.942 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:32:45.943 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 144.9152ms
2025-05-07 23:32:50.793 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/1 - null null
2025-05-07 23:32:50.798 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:32:50.798 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/1 - 204 null null 5.5328ms
2025-05-07 23:32:50.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/book/view/1 - null null
2025-05-07 23:32:50.805 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:32:50.807 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:32:50.812 +02:00 [INF] Route matched with {action = "GetBookForViewById", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookForViewById(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:32:50.904 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[AuthorId], [b1].[CoverUrl], [b1].[Description], [b1].[PublicationYear], [b1].[Title], [s].[BookId], [s].[GenreId], [s].[Id], [s].[Name]
FROM (
    SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__bookId_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[BookId], [b0].[GenreId], [g].[Id], [g].[Name]
    FROM [BookGenre] AS [b0]
    INNER JOIN [Genres] AS [g] ON [b0].[GenreId] = [g].[Id]
) AS [s] ON [b1].[Id] = [s].[BookId]
ORDER BY [b1].[Id], [s].[BookId], [s].[GenreId]
2025-05-07 23:32:50.949 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favourite] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[BookId] = @__bookId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-07 23:32:50.953 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.BookDto'.
2025-05-07 23:32:50.954 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API) in 140.8673ms
2025-05-07 23:32:50.956 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:32:50.957 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/book/view/1 - 200 null application/json; charset=utf-8 155.4819ms
2025-05-07 23:32:56.355 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:32:56.358 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:32:56.359 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 4.1931ms
2025-05-07 23:32:56.361 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:32:56.365 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:32:56.365 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:32:56.367 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:32:56.372 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:32:56.377 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:32:56.380 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:32:56.381 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 12.8971ms
2025-05-07 23:32:56.382 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:32:56.383 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 22.3334ms
2025-05-07 23:32:57.348 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/6 - null null
2025-05-07 23:32:57.352 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:32:57.353 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/6 - 204 null null 4.429ms
2025-05-07 23:32:57.355 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/book/view/6 - null null
2025-05-07 23:32:57.358 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:32:57.359 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:32:57.360 +02:00 [INF] Route matched with {action = "GetBookForViewById", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookForViewById(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:32:57.364 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[AuthorId], [b1].[CoverUrl], [b1].[Description], [b1].[PublicationYear], [b1].[Title], [s].[BookId], [s].[GenreId], [s].[Id], [s].[Name]
FROM (
    SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__bookId_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[BookId], [b0].[GenreId], [g].[Id], [g].[Name]
    FROM [BookGenre] AS [b0]
    INNER JOIN [Genres] AS [g] ON [b0].[GenreId] = [g].[Id]
) AS [s] ON [b1].[Id] = [s].[BookId]
ORDER BY [b1].[Id], [s].[BookId], [s].[GenreId]
2025-05-07 23:32:57.368 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favourite] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[BookId] = @__bookId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-07 23:32:57.371 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.BookDto'.
2025-05-07 23:32:57.372 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API) in 10.1684ms
2025-05-07 23:32:57.373 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:32:57.374 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/book/view/6 - 200 null application/json; charset=utf-8 19.5133ms
2025-05-07 23:33:01.570 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:33:01.573 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:01.574 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 3.866ms
2025-05-07 23:33:01.576 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:33:01.580 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:01.581 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:33:01.582 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:01.586 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:33:01.590 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:33:01.592 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:33:01.593 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 9.2399ms
2025-05-07 23:33:01.594 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:33:01.596 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 19.292ms
2025-05-07 23:33:02.819 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/7 - null null
2025-05-07 23:33:02.821 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:02.822 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/7 - 204 null null 3.0825ms
2025-05-07 23:33:02.824 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/book/view/7 - null null
2025-05-07 23:33:02.827 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:02.828 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:33:02.829 +02:00 [INF] Route matched with {action = "GetBookForViewById", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookForViewById(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:02.832 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[AuthorId], [b1].[CoverUrl], [b1].[Description], [b1].[PublicationYear], [b1].[Title], [s].[BookId], [s].[GenreId], [s].[Id], [s].[Name]
FROM (
    SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__bookId_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[BookId], [b0].[GenreId], [g].[Id], [g].[Name]
    FROM [BookGenre] AS [b0]
    INNER JOIN [Genres] AS [g] ON [b0].[GenreId] = [g].[Id]
) AS [s] ON [b1].[Id] = [s].[BookId]
ORDER BY [b1].[Id], [s].[BookId], [s].[GenreId]
2025-05-07 23:33:02.836 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favourite] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[BookId] = @__bookId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-07 23:33:02.838 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.BookDto'.
2025-05-07 23:33:02.840 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API) in 9.0917ms
2025-05-07 23:33:02.841 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:33:02.842 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/book/view/7 - 200 null application/json; charset=utf-8 18.6312ms
2025-05-07 23:33:04.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:33:04.993 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:04.995 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:33:04.996 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:05.002 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:33:05.005 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:33:05.007 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:33:05.009 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 11.3943ms
2025-05-07 23:33:05.010 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:33:05.011 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 21.0261ms
2025-05-07 23:33:06.680 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-07 23:33:06.685 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:06.687 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 6.981ms
2025-05-07 23:33:06.752 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-07 23:33:06.755 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:06.756 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-07 23:33:06.760 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-07 23:33:06.769 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-07 23:33:06.781 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:33:06.784 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 22.4568ms
2025-05-07 23:33:06.785 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-07 23:33:06.786 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 65.3082ms
2025-05-07 23:33:09.618 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author/4 - null null
2025-05-07 23:33:09.620 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:09.621 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author/4 - 204 null null 3.3821ms
2025-05-07 23:33:09.624 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author/4 - null null
2025-05-07 23:33:09.627 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:09.628 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API)'
2025-05-07 23:33:09.632 +02:00 [INF] Route matched with {action = "GetAuthor", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookCatalog_API.DTOs.AuthorDto]] GetAuthor(Int32) on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-07 23:33:09.651 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AuthorInfo], [a0].[Name], [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM (
    SELECT TOP(1) [a].[Id], [a].[AuthorInfo], [a].[Name]
    FROM [Authors] AS [a]
    WHERE [a].[Id] = @__id_0
) AS [a0]
LEFT JOIN [Books] AS [b] ON [a0].[Id] = [b].[AuthorId]
ORDER BY [a0].[Id]
2025-05-07 23:33:09.659 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.AuthorDto'.
2025-05-07 23:33:09.660 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API) in 26.2853ms
2025-05-07 23:33:09.661 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API)'
2025-05-07 23:33:09.662 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author/4 - 200 null application/json; charset=utf-8 38.3083ms
2025-05-07 23:33:19.707 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/10 - null null
2025-05-07 23:33:19.710 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:19.711 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/10 - 204 null null 3.3624ms
2025-05-07 23:33:19.713 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/book/view/10 - null null
2025-05-07 23:33:19.716 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:19.718 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:33:19.718 +02:00 [INF] Route matched with {action = "GetBookForViewById", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookForViewById(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:19.723 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[AuthorId], [b1].[CoverUrl], [b1].[Description], [b1].[PublicationYear], [b1].[Title], [s].[BookId], [s].[GenreId], [s].[Id], [s].[Name]
FROM (
    SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__bookId_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[BookId], [b0].[GenreId], [g].[Id], [g].[Name]
    FROM [BookGenre] AS [b0]
    INNER JOIN [Genres] AS [g] ON [b0].[GenreId] = [g].[Id]
) AS [s] ON [b1].[Id] = [s].[BookId]
ORDER BY [b1].[Id], [s].[BookId], [s].[GenreId]
2025-05-07 23:33:19.726 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favourite] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[BookId] = @__bookId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-07 23:33:19.729 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.BookDto'.
2025-05-07 23:33:19.730 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API) in 8.9354ms
2025-05-07 23:33:19.731 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:33:19.732 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/book/view/10 - 200 null application/json; charset=utf-8 18.9278ms
2025-05-07 23:33:22.228 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author/4 - null null
2025-05-07 23:33:22.231 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:22.232 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author/4 - 204 null null 3.4211ms
2025-05-07 23:33:22.234 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author/4 - null null
2025-05-07 23:33:22.237 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:22.238 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API)'
2025-05-07 23:33:22.239 +02:00 [INF] Route matched with {action = "GetAuthor", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookCatalog_API.DTOs.AuthorDto]] GetAuthor(Int32) on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-07 23:33:22.243 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AuthorInfo], [a0].[Name], [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM (
    SELECT TOP(1) [a].[Id], [a].[AuthorInfo], [a].[Name]
    FROM [Authors] AS [a]
    WHERE [a].[Id] = @__id_0
) AS [a0]
LEFT JOIN [Books] AS [b] ON [a0].[Id] = [b].[AuthorId]
ORDER BY [a0].[Id]
2025-05-07 23:33:22.246 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.AuthorDto'.
2025-05-07 23:33:22.247 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API) in 6.0945ms
2025-05-07 23:33:22.248 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API)'
2025-05-07 23:33:22.249 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author/4 - 200 null application/json; charset=utf-8 14.6973ms
2025-05-07 23:33:22.918 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/14 - null null
2025-05-07 23:33:22.921 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:22.922 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/14 - 204 null null 3.2848ms
2025-05-07 23:33:22.924 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/book/view/14 - null null
2025-05-07 23:33:22.927 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:22.928 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:33:22.929 +02:00 [INF] Route matched with {action = "GetBookForViewById", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookForViewById(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:22.932 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[AuthorId], [b1].[CoverUrl], [b1].[Description], [b1].[PublicationYear], [b1].[Title], [s].[BookId], [s].[GenreId], [s].[Id], [s].[Name]
FROM (
    SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__bookId_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[BookId], [b0].[GenreId], [g].[Id], [g].[Name]
    FROM [BookGenre] AS [b0]
    INNER JOIN [Genres] AS [g] ON [b0].[GenreId] = [g].[Id]
) AS [s] ON [b1].[Id] = [s].[BookId]
ORDER BY [b1].[Id], [s].[BookId], [s].[GenreId]
2025-05-07 23:33:22.936 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favourite] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[BookId] = @__bookId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-07 23:33:22.938 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.BookDto'.
2025-05-07 23:33:22.940 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API) in 8.9845ms
2025-05-07 23:33:22.941 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:33:22.942 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/book/view/14 - 200 null application/json; charset=utf-8 18.8547ms
2025-05-07 23:33:23.961 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author/4 - null null
2025-05-07 23:33:23.964 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:23.964 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API)'
2025-05-07 23:33:23.965 +02:00 [INF] Route matched with {action = "GetAuthor", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookCatalog_API.DTOs.AuthorDto]] GetAuthor(Int32) on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-07 23:33:23.969 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AuthorInfo], [a0].[Name], [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM (
    SELECT TOP(1) [a].[Id], [a].[AuthorInfo], [a].[Name]
    FROM [Authors] AS [a]
    WHERE [a].[Id] = @__id_0
) AS [a0]
LEFT JOIN [Books] AS [b] ON [a0].[Id] = [b].[AuthorId]
ORDER BY [a0].[Id]
2025-05-07 23:33:23.972 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.AuthorDto'.
2025-05-07 23:33:23.973 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API) in 5.5017ms
2025-05-07 23:33:23.974 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API)'
2025-05-07 23:33:23.976 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author/4 - 200 null application/json; charset=utf-8 14.6191ms
2025-05-07 23:33:25.044 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/10 - null null
2025-05-07 23:33:25.046 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:25.047 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/10 - 204 null null 3.8883ms
2025-05-07 23:33:25.050 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/book/view/10 - null null
2025-05-07 23:33:25.053 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:25.054 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:33:25.055 +02:00 [INF] Route matched with {action = "GetBookForViewById", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookForViewById(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:25.058 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[AuthorId], [b1].[CoverUrl], [b1].[Description], [b1].[PublicationYear], [b1].[Title], [s].[BookId], [s].[GenreId], [s].[Id], [s].[Name]
FROM (
    SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__bookId_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[BookId], [b0].[GenreId], [g].[Id], [g].[Name]
    FROM [BookGenre] AS [b0]
    INNER JOIN [Genres] AS [g] ON [b0].[GenreId] = [g].[Id]
) AS [s] ON [b1].[Id] = [s].[BookId]
ORDER BY [b1].[Id], [s].[BookId], [s].[GenreId]
2025-05-07 23:33:25.062 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favourite] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[BookId] = @__bookId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-07 23:33:25.066 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.BookDto'.
2025-05-07 23:33:25.067 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API) in 10.4941ms
2025-05-07 23:33:25.069 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:33:25.070 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/book/view/10 - 200 null application/json; charset=utf-8 20.0586ms
2025-05-07 23:33:26.602 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author/4 - null null
2025-05-07 23:33:26.606 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:26.607 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API)'
2025-05-07 23:33:26.608 +02:00 [INF] Route matched with {action = "GetAuthor", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookCatalog_API.DTOs.AuthorDto]] GetAuthor(Int32) on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-07 23:33:26.611 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AuthorInfo], [a0].[Name], [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM (
    SELECT TOP(1) [a].[Id], [a].[AuthorInfo], [a].[Name]
    FROM [Authors] AS [a]
    WHERE [a].[Id] = @__id_0
) AS [a0]
LEFT JOIN [Books] AS [b] ON [a0].[Id] = [b].[AuthorId]
ORDER BY [a0].[Id]
2025-05-07 23:33:26.614 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.AuthorDto'.
2025-05-07 23:33:26.615 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API) in 5.5214ms
2025-05-07 23:33:26.617 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API)'
2025-05-07 23:33:26.618 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author/4 - 200 null application/json; charset=utf-8 15.1991ms
2025-05-07 23:33:27.307 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-07 23:33:27.309 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:27.310 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 2.9586ms
2025-05-07 23:33:27.312 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-07 23:33:27.315 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:27.316 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-07 23:33:27.317 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-07 23:33:27.320 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-07 23:33:27.323 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:33:27.325 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 6.3187ms
2025-05-07 23:33:27.326 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-07 23:33:27.327 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 15.3589ms
2025-05-07 23:33:29.062 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/favourites - null null
2025-05-07 23:33:29.066 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:29.067 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/favourites - 204 null null 4.2062ms
2025-05-07 23:33:29.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/favourites - null null
2025-05-07 23:33:29.073 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:29.079 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API)'
2025-05-07 23:33:29.083 +02:00 [INF] Route matched with {action = "GetFavourites", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetFavourites() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:29.106 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[PasswordHash], [u0].[PasswordSalt], [u0].[Role], [u0].[Username], [s].[UserId], [s].[BookId], [s].[Id], [s].[AuthorId], [s].[CoverUrl], [s].[Description], [s].[PublicationYear], [s].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [u0]
LEFT JOIN (
    SELECT [f].[UserId], [f].[BookId], [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Favourite] AS [f]
    INNER JOIN [Books] AS [b] ON [f].[BookId] = [b].[Id]
) AS [s] ON [u0].[Id] = [s].[UserId]
ORDER BY [u0].[Id], [s].[UserId], [s].[BookId]
2025-05-07 23:33:29.114 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.FavouriteDto'.
2025-05-07 23:33:29.116 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API) in 30.923ms
2025-05-07 23:33:29.117 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API)'
2025-05-07 23:33:29.118 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/favourites - 200 null application/json; charset=utf-8 49.1889ms
2025-05-07 23:33:29.610 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-07 23:33:29.613 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:29.614 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-07 23:33:29.616 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-07 23:33:29.619 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-07 23:33:29.622 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:33:29.624 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 6.3512ms
2025-05-07 23:33:29.625 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-07 23:33:29.626 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 15.7814ms
2025-05-07 23:33:30.793 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:33:30.797 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:30.798 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 4.4454ms
2025-05-07 23:33:30.800 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:33:30.804 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:30.804 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:33:30.805 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:30.810 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:33:30.812 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:33:30.815 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:33:30.816 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 8.6384ms
2025-05-07 23:33:30.817 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:33:30.818 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 18.1225ms
2025-05-07 23:33:32.252 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/favourite/1 - null null
2025-05-07 23:33:32.254 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:32.255 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/favourite/1 - 204 null null 2.8518ms
2025-05-07 23:33:32.256 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7261/api/book/books/favourite/1 - application/json 2
2025-05-07 23:33:32.260 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:32.261 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API)'
2025-05-07 23:33:32.264 +02:00 [INF] Route matched with {action = "DoFavourite", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DoFavourite(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:32.282 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ids_Item1_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[PasswordHash], [u0].[PasswordSalt], [u0].[Role], [u0].[Username], [f].[UserId], [f].[BookId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__ids_Item1_0
) AS [u0]
LEFT JOIN [Favourite] AS [f] ON [u0].[Id] = [f].[UserId]
ORDER BY [u0].[Id], [f].[UserId]
2025-05-07 23:33:32.300 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2025-05-07 23:33:32.334 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favourite] ([BookId], [UserId])
VALUES (@p0, @p1);
2025-05-07 23:33:32.337 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2025-05-07 23:33:32.339 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API) in 73.5413ms
2025-05-07 23:33:32.341 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API)'
2025-05-07 23:33:32.342 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7261/api/book/books/favourite/1 - 200 null application/json; charset=utf-8 85.7466ms
2025-05-07 23:33:34.896 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/favourites - null null
2025-05-07 23:33:34.898 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:34.899 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/favourites - 204 null null 3.1301ms
2025-05-07 23:33:34.900 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/favourites - null null
2025-05-07 23:33:34.903 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:34.905 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API)'
2025-05-07 23:33:34.906 +02:00 [INF] Route matched with {action = "GetFavourites", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetFavourites() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:34.912 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[PasswordHash], [u0].[PasswordSalt], [u0].[Role], [u0].[Username], [s].[UserId], [s].[BookId], [s].[Id], [s].[AuthorId], [s].[CoverUrl], [s].[Description], [s].[PublicationYear], [s].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [u0]
LEFT JOIN (
    SELECT [f].[UserId], [f].[BookId], [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Favourite] AS [f]
    INNER JOIN [Books] AS [b] ON [f].[BookId] = [b].[Id]
) AS [s] ON [u0].[Id] = [s].[UserId]
ORDER BY [u0].[Id], [s].[UserId], [s].[BookId]
2025-05-07 23:33:34.917 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.FavouriteDto'.
2025-05-07 23:33:34.918 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API) in 9.6837ms
2025-05-07 23:33:34.919 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API)'
2025-05-07 23:33:34.920 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/favourites - 200 null application/json; charset=utf-8 20.0449ms
2025-05-07 23:33:37.755 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/favourite/1 - null null
2025-05-07 23:33:37.757 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:37.758 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/favourite/1 - 204 null null 3.3568ms
2025-05-07 23:33:37.760 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7261/api/book/books/favourite/1 - application/json 2
2025-05-07 23:33:37.763 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:37.764 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API)'
2025-05-07 23:33:37.765 +02:00 [INF] Route matched with {action = "DoFavourite", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DoFavourite(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:37.770 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ids_Item1_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[PasswordHash], [u0].[PasswordSalt], [u0].[Role], [u0].[Username], [f].[UserId], [f].[BookId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__ids_Item1_0
) AS [u0]
LEFT JOIN [Favourite] AS [f] ON [u0].[Id] = [f].[UserId]
ORDER BY [u0].[Id], [f].[UserId]
2025-05-07 23:33:37.785 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Favourite]
OUTPUT 1
WHERE [BookId] = @p0 AND [UserId] = @p1;
2025-05-07 23:33:37.791 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2025-05-07 23:33:37.792 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API) in 24.9602ms
2025-05-07 23:33:37.793 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API)'
2025-05-07 23:33:37.794 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7261/api/book/books/favourite/1 - 200 null application/json; charset=utf-8 34.4497ms
2025-05-07 23:33:38.693 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:33:38.695 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:38.696 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 2.9737ms
2025-05-07 23:33:38.697 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:33:38.701 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:38.702 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:33:38.703 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:38.707 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:33:38.711 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:33:38.713 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:33:38.714 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 9.0804ms
2025-05-07 23:33:38.716 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:33:38.717 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 19.2683ms
2025-05-07 23:33:41.200 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/favourites - null null
2025-05-07 23:33:41.208 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:41.209 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/favourites - 204 null null 9.2835ms
2025-05-07 23:33:41.211 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/favourites - null null
2025-05-07 23:33:41.216 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:41.218 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API)'
2025-05-07 23:33:41.219 +02:00 [INF] Route matched with {action = "GetFavourites", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetFavourites() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:41.225 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[PasswordHash], [u0].[PasswordSalt], [u0].[Role], [u0].[Username], [s].[UserId], [s].[BookId], [s].[Id], [s].[AuthorId], [s].[CoverUrl], [s].[Description], [s].[PublicationYear], [s].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [u0]
LEFT JOIN (
    SELECT [f].[UserId], [f].[BookId], [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Favourite] AS [f]
    INNER JOIN [Books] AS [b] ON [f].[BookId] = [b].[Id]
) AS [s] ON [u0].[Id] = [s].[UserId]
ORDER BY [u0].[Id], [s].[UserId], [s].[BookId]
2025-05-07 23:33:41.228 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.FavouriteDto'.
2025-05-07 23:33:41.229 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API) in 8.0357ms
2025-05-07 23:33:41.230 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API)'
2025-05-07 23:33:41.231 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/favourites - 200 null application/json; charset=utf-8 20.2012ms
2025-05-07 23:33:42.028 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-07 23:33:42.031 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:42.031 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 3.9018ms
2025-05-07 23:33:42.033 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-07 23:33:42.037 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:42.038 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-07 23:33:42.038 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-07 23:33:42.042 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-07 23:33:42.045 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:33:42.046 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 5.9353ms
2025-05-07 23:33:42.047 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-07 23:33:42.048 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 14.9384ms
2025-05-07 23:33:43.629 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/1 - null null
2025-05-07 23:33:43.632 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:43.633 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/1 - 204 null null 4.1896ms
2025-05-07 23:33:43.635 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/1 - null null
2025-05-07 23:33:43.638 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:33:43.657 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API)'
2025-05-07 23:33:43.661 +02:00 [INF] Route matched with {action = "GetAuthorBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAuthorBooks(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:33:43.670 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__authorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[AuthorId] = @__authorId_0
2025-05-07 23:33:43.673 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:33:43.675 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:33:43.676 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API) in 13.6811ms
2025-05-07 23:33:43.677 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API)'
2025-05-07 23:33:43.678 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/1 - 200 null application/json; charset=utf-8 43.8311ms
2025-05-07 23:34:34.285 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/1 - null null
2025-05-07 23:34:34.310 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:34:34.311 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/1 - 204 null null 25.8594ms
2025-05-07 23:34:34.315 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/1 - null null
2025-05-07 23:34:34.320 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:34:34.321 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API)'
2025-05-07 23:34:34.321 +02:00 [INF] Route matched with {action = "GetAuthorBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAuthorBooks(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:34:34.331 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__authorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[AuthorId] = @__authorId_0
2025-05-07 23:34:34.337 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:34:34.344 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:34:34.346 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API) in 17.7268ms
2025-05-07 23:34:34.349 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API)'
2025-05-07 23:34:34.350 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/1 - 200 null application/json; charset=utf-8 35.0045ms
2025-05-07 23:35:17.091 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/1 - null null
2025-05-07 23:35:17.096 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:35:17.097 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/1 - 204 null null 6.0446ms
2025-05-07 23:35:17.099 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/1 - null null
2025-05-07 23:35:17.104 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:35:17.105 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API)'
2025-05-07 23:35:17.106 +02:00 [INF] Route matched with {action = "GetAuthorBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAuthorBooks(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:35:17.111 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__authorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[AuthorId] = @__authorId_0
2025-05-07 23:35:17.114 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:35:17.117 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:35:17.119 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API) in 10.109ms
2025-05-07 23:35:17.121 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API)'
2025-05-07 23:35:17.122 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/1 - 200 null application/json; charset=utf-8 22.1884ms
2025-05-07 23:35:24.948 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/favourite/1 - null null
2025-05-07 23:35:24.951 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:35:24.952 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/favourite/1 - 204 null null 3.6413ms
2025-05-07 23:35:24.954 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7261/api/book/books/favourite/1 - application/json 2
2025-05-07 23:35:24.957 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:35:24.958 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API)'
2025-05-07 23:35:24.960 +02:00 [INF] Route matched with {action = "DoFavourite", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DoFavourite(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:35:24.964 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ids_Item1_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[PasswordHash], [u0].[PasswordSalt], [u0].[Role], [u0].[Username], [f].[UserId], [f].[BookId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__ids_Item1_0
) AS [u0]
LEFT JOIN [Favourite] AS [f] ON [u0].[Id] = [f].[UserId]
ORDER BY [u0].[Id], [f].[UserId]
2025-05-07 23:35:24.968 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2025-05-07 23:35:24.974 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favourite] ([BookId], [UserId])
VALUES (@p0, @p1);
2025-05-07 23:35:24.977 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2025-05-07 23:35:24.978 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API) in 16.904ms
2025-05-07 23:35:24.982 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API)'
2025-05-07 23:35:24.984 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7261/api/book/books/favourite/1 - 200 null application/json; charset=utf-8 30.8241ms
2025-05-07 23:35:25.690 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7261/api/book/books/favourite/1 - application/json 2
2025-05-07 23:35:25.692 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:35:25.693 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API)'
2025-05-07 23:35:25.694 +02:00 [INF] Route matched with {action = "DoFavourite", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DoFavourite(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:35:25.697 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ids_Item1_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[PasswordHash], [u0].[PasswordSalt], [u0].[Role], [u0].[Username], [f].[UserId], [f].[BookId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__ids_Item1_0
) AS [u0]
LEFT JOIN [Favourite] AS [f] ON [u0].[Id] = [f].[UserId]
ORDER BY [u0].[Id], [f].[UserId]
2025-05-07 23:35:25.702 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Favourite]
OUTPUT 1
WHERE [BookId] = @p0 AND [UserId] = @p1;
2025-05-07 23:35:25.704 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2025-05-07 23:35:25.705 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API) in 9.1233ms
2025-05-07 23:35:25.707 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API)'
2025-05-07 23:35:25.708 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7261/api/book/books/favourite/1 - 200 null application/json; charset=utf-8 18.073ms
2025-05-07 23:35:26.504 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/favourite/4 - null null
2025-05-07 23:35:26.507 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:35:26.508 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/favourite/4 - 204 null null 3.6212ms
2025-05-07 23:35:26.511 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7261/api/book/books/favourite/4 - application/json 2
2025-05-07 23:35:26.516 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:35:26.518 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API)'
2025-05-07 23:35:26.519 +02:00 [INF] Route matched with {action = "DoFavourite", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DoFavourite(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:35:26.523 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ids_Item1_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[PasswordHash], [u0].[PasswordSalt], [u0].[Role], [u0].[Username], [f].[UserId], [f].[BookId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__ids_Item1_0
) AS [u0]
LEFT JOIN [Favourite] AS [f] ON [u0].[Id] = [f].[UserId]
ORDER BY [u0].[Id], [f].[UserId]
2025-05-07 23:35:26.527 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2025-05-07 23:35:26.531 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Favourite] ([BookId], [UserId])
VALUES (@p0, @p1);
2025-05-07 23:35:26.533 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2025-05-07 23:35:26.534 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API) in 12.0042ms
2025-05-07 23:35:26.535 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API)'
2025-05-07 23:35:26.536 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7261/api/book/books/favourite/4 - 200 null application/json; charset=utf-8 25.6068ms
2025-05-07 23:35:27.607 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/favourites - null null
2025-05-07 23:35:27.609 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:35:27.610 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/favourites - 204 null null 3.5182ms
2025-05-07 23:35:27.612 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/favourites - null null
2025-05-07 23:35:27.614 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:35:27.615 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API)'
2025-05-07 23:35:27.616 +02:00 [INF] Route matched with {action = "GetFavourites", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetFavourites() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:35:27.622 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[PasswordHash], [u0].[PasswordSalt], [u0].[Role], [u0].[Username], [s].[UserId], [s].[BookId], [s].[Id], [s].[AuthorId], [s].[CoverUrl], [s].[Description], [s].[PublicationYear], [s].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [u0]
LEFT JOIN (
    SELECT [f].[UserId], [f].[BookId], [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Favourite] AS [f]
    INNER JOIN [Books] AS [b] ON [f].[BookId] = [b].[Id]
) AS [s] ON [u0].[Id] = [s].[UserId]
ORDER BY [u0].[Id], [s].[UserId], [s].[BookId]
2025-05-07 23:35:27.625 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.FavouriteDto'.
2025-05-07 23:35:27.626 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API) in 7.4788ms
2025-05-07 23:35:27.627 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API)'
2025-05-07 23:35:27.628 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/favourites - 200 null application/json; charset=utf-8 15.8982ms
2025-05-07 23:35:28.893 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7261/api/book/books/favourite/4 - application/json 2
2025-05-07 23:35:28.896 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:35:28.897 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API)'
2025-05-07 23:35:28.898 +02:00 [INF] Route matched with {action = "DoFavourite", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DoFavourite(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:35:28.901 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ids_Item1_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[PasswordHash], [u0].[PasswordSalt], [u0].[Role], [u0].[Username], [f].[UserId], [f].[BookId]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__ids_Item1_0
) AS [u0]
LEFT JOIN [Favourite] AS [f] ON [u0].[Id] = [f].[UserId]
ORDER BY [u0].[Id], [f].[UserId]
2025-05-07 23:35:28.905 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Favourite]
OUTPUT 1
WHERE [BookId] = @p0 AND [UserId] = @p1;
2025-05-07 23:35:28.908 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2025-05-07 23:35:28.909 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API) in 9.7776ms
2025-05-07 23:35:28.910 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.DoFavourite (BookCatalog_API)'
2025-05-07 23:35:28.911 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7261/api/book/books/favourite/4 - 200 null application/json; charset=utf-8 18.4697ms
2025-05-07 23:36:06.066 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/account/login - null null
2025-05-07 23:36:06.069 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:06.070 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/account/login - 204 null null 3.4359ms
2025-05-07 23:36:06.073 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7261/api/account/login - application/json 50
2025-05-07 23:36:06.077 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:06.078 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AccountController.Login (BookCatalog_API)'
2025-05-07 23:36:06.081 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookCatalog_API.DTOs.UserDto]] Login(BookCatalog_API.DTOs.LoginDto) on controller BookCatalog_API.Controllers.AccountController (BookCatalog_API).
2025-05-07 23:36:06.088 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-05-07 23:36:06.091 +02:00 [INF] Executing ObjectResult, writing value of type 'BookCatalog_API.DTOs.UserDto'.
2025-05-07 23:36:06.092 +02:00 [INF] Executed action BookCatalog_API.Controllers.AccountController.Login (BookCatalog_API) in 9.0003ms
2025-05-07 23:36:06.093 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AccountController.Login (BookCatalog_API)'
2025-05-07 23:36:06.095 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7261/api/account/login - 200 null application/json; charset=utf-8 21.2963ms
2025-05-07 23:36:08.174 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - null null
2025-05-07 23:36:08.177 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:08.178 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - 204 null null 3.9473ms
2025-05-07 23:36:08.180 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/members/get-users - null null
2025-05-07 23:36:08.183 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:08.184 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-07 23:36:08.187 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Members"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUsers() on controller BookCatalog_API.Controllers.MembersController (BookCatalog_API).
2025-05-07 23:36:08.196 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
FROM [Users] AS [u]
2025-05-07 23:36:08.200 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.MemberDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:36:08.202 +02:00 [INF] Executed action BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API) in 13.1555ms
2025-05-07 23:36:08.203 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-07 23:36:08.204 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/members/get-users - 200 null application/json; charset=utf-8 23.7325ms
2025-05-07 23:36:11.677 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:36:11.679 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:11.680 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 2.9193ms
2025-05-07 23:36:11.682 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:36:11.685 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:11.686 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:36:11.687 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:36:11.691 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:36:11.695 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:36:11.697 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:36:11.698 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 8.5806ms
2025-05-07 23:36:11.699 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:36:11.701 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 18.7053ms
2025-05-07 23:36:20.251 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/10 - null null
2025-05-07 23:36:20.253 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:20.254 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/10 - 204 null null 3.054ms
2025-05-07 23:36:20.256 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7261/api/book/books/10 - null null
2025-05-07 23:36:20.260 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:20.261 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-07 23:36:20.264 +02:00 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteBook(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:36:20.270 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2025-05-07 23:36:20.295 +02:00 [ERR] Failed executing DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2025-05-07 23:36:20.311 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'BookCatalog_API.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99a9fe4f-061c-4705-8972-04455721c32e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99a9fe4f-061c-4705-8972-04455721c32e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-07 23:36:20.523 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-05-07 23:36:20.524 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API) in 258.0211ms
2025-05-07 23:36:20.529 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-07 23:36:20.530 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7261/api/book/books/10 - 400 null text/plain; charset=utf-8 274.1379ms
2025-05-07 23:36:26.469 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:36:26.473 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:26.473 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 4.0553ms
2025-05-07 23:36:26.476 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:36:26.479 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:26.479 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:36:26.480 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:36:26.483 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:36:26.487 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:36:26.490 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:36:26.491 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 8.8482ms
2025-05-07 23:36:26.493 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:36:26.494 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 18.3123ms
2025-05-07 23:36:39.755 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:36:39.758 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:39.759 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - 204 null null 4.1243ms
2025-05-07 23:36:39.762 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:36:39.768 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:39.770 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-07 23:36:39.771 +02:00 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteBook(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:36:39.774 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2025-05-07 23:36:39.780 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2025-05-07 23:36:39.785 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'BookCatalog_API.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99a9fe4f-061c-4705-8972-04455721c32e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99a9fe4f-061c-4705-8972-04455721c32e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-07 23:36:39.878 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-05-07 23:36:39.879 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API) in 106.2801ms
2025-05-07 23:36:39.880 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-07 23:36:39.881 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7261/api/book/books/16 - 400 null text/plain; charset=utf-8 118.9195ms
2025-05-07 23:36:41.002 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:36:41.007 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:41.008 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 5.8635ms
2025-05-07 23:36:41.012 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:36:41.017 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:36:41.018 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:36:41.019 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:36:41.022 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:36:41.025 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:36:41.028 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:36:41.029 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 7.8207ms
2025-05-07 23:36:41.030 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:36:41.031 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 19.5083ms
2025-05-07 23:37:25.016 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:37:25.025 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:25.026 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 9.9059ms
2025-05-07 23:37:25.028 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:37:25.032 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:25.032 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:37:25.033 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:37:25.037 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:37:25.041 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:37:25.043 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:37:25.045 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 9.9792ms
2025-05-07 23:37:25.047 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:37:25.048 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 19.6862ms
2025-05-07 23:37:28.203 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/16 - null null
2025-05-07 23:37:28.207 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/genre/genre/all - null null
2025-05-07 23:37:28.209 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:28.213 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:28.214 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/16 - 204 null null 10.5035ms
2025-05-07 23:37:28.221 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/genre/genre/all - 204 null null 14.4352ms
2025-05-07 23:37:28.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/book/16 - null null
2025-05-07 23:37:28.262 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/genre/genre/all - null null
2025-05-07 23:37:28.269 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:28.272 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:28.272 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookForEditById (BookCatalog_API)'
2025-05-07 23:37:28.273 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.GenreController.GetGenres (BookCatalog_API)'
2025-05-07 23:37:28.276 +02:00 [INF] Route matched with {action = "GetBookForEditById", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookForEditById(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:37:28.277 +02:00 [INF] Route matched with {action = "GetGenres", controller = "Genre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.GenreDto]]] GetGenres() on controller BookCatalog_API.Controllers.GenreController (BookCatalog_API).
2025-05-07 23:37:28.289 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name]
FROM [Genres] AS [g]
2025-05-07 23:37:28.294 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.GenreDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:37:28.296 +02:00 [INF] Executed action BookCatalog_API.Controllers.GenreController.GetGenres (BookCatalog_API) in 15.7738ms
2025-05-07 23:37:28.298 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.GenreController.GetGenres (BookCatalog_API)'
2025-05-07 23:37:28.298 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[AuthorId], [b1].[CoverUrl], [b1].[Description], [b1].[PublicationYear], [b1].[Title], [s].[BookId], [s].[GenreId], [s].[Id], [s].[Name]
FROM (
    SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__bookId_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[BookId], [b0].[GenreId], [g].[Id], [g].[Name]
    FROM [BookGenre] AS [b0]
    INNER JOIN [Genres] AS [g] ON [b0].[GenreId] = [g].[Id]
) AS [s] ON [b1].[Id] = [s].[BookId]
ORDER BY [b1].[Id], [s].[BookId], [s].[GenreId]
2025-05-07 23:37:28.299 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/genre/genre/all - 200 null application/json; charset=utf-8 36.9169ms
2025-05-07 23:37:28.307 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.BookEditDto'.
2025-05-07 23:37:28.310 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookForEditById (BookCatalog_API) in 31.5971ms
2025-05-07 23:37:28.311 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookForEditById (BookCatalog_API)'
2025-05-07 23:37:28.312 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/book/16 - 200 null application/json; charset=utf-8 91.3993ms
2025-05-07 23:37:33.042 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:37:33.045 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:33.045 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - 204 null null 3.0672ms
2025-05-07 23:37:33.047 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7261/api/book/books/16 - application/json 121
2025-05-07 23:37:33.050 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:33.051 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.EditBook (BookCatalog_API)'
2025-05-07 23:37:33.055 +02:00 [INF] Route matched with {action = "EditBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] EditBook(Int32, BookCatalog_API.DTOs.BookEditDto) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:37:39.057 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookDto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[AuthorId], [b1].[CoverUrl], [b1].[Description], [b1].[PublicationYear], [b1].[Title], [b0].[BookId], [b0].[GenreId]
FROM (
    SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__bookDto_Id_0
) AS [b1]
LEFT JOIN [BookGenre] AS [b0] ON [b1].[Id] = [b0].[BookId]
ORDER BY [b1].[Id], [b0].[BookId]
2025-05-07 23:37:43.251 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p7='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Date), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BookGenre] ([BookId], [GenreId])
VALUES (@p0, @p1);
UPDATE [Books] SET [AuthorId] = @p2, [CoverUrl] = @p3, [Description] = @p4, [PublicationYear] = @p5, [Title] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;
2025-05-07 23:37:43.262 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-05-07 23:37:43.263 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.EditBook (BookCatalog_API) in 10206.5787ms
2025-05-07 23:37:43.264 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.EditBook (BookCatalog_API)'
2025-05-07 23:37:43.265 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7261/api/book/books/16 - 200 0 null 10218.4373ms
2025-05-07 23:37:43.274 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:37:43.278 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:43.280 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 6.1559ms
2025-05-07 23:37:43.284 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:37:43.287 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:43.288 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:37:43.289 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:37:43.291 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:37:43.294 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:37:43.296 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:37:43.297 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 7.0491ms
2025-05-07 23:37:43.299 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:37:43.300 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 16.1979ms
2025-05-07 23:37:47.998 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/16 - null null
2025-05-07 23:37:48.003 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:48.004 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/view/16 - 204 null null 6.0134ms
2025-05-07 23:37:48.005 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/book/view/16 - null null
2025-05-07 23:37:48.009 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:48.010 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:37:48.011 +02:00 [INF] Route matched with {action = "GetBookForViewById", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookForViewById(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:37:48.014 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[AuthorId], [b1].[CoverUrl], [b1].[Description], [b1].[PublicationYear], [b1].[Title], [s].[BookId], [s].[GenreId], [s].[Id], [s].[Name]
FROM (
    SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__bookId_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[BookId], [b0].[GenreId], [g].[Id], [g].[Name]
    FROM [BookGenre] AS [b0]
    INNER JOIN [Genres] AS [g] ON [b0].[GenreId] = [g].[Id]
) AS [s] ON [b1].[Id] = [s].[BookId]
ORDER BY [b1].[Id], [s].[BookId], [s].[GenreId]
2025-05-07 23:37:48.018 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__bookId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Favourite] AS [f]
        WHERE [f].[UserId] = @__userId_0 AND [f].[BookId] = @__bookId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-07 23:37:48.020 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.BookDto'.
2025-05-07 23:37:48.021 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API) in 8.7768ms
2025-05-07 23:37:48.023 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookForViewById (BookCatalog_API)'
2025-05-07 23:37:48.024 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/book/view/16 - 200 null application/json; charset=utf-8 18.4096ms
2025-05-07 23:37:50.733 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:37:50.736 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:50.737 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 4.2353ms
2025-05-07 23:37:50.739 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:37:50.742 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:37:50.743 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:37:50.743 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:37:50.747 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:37:50.749 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:37:50.752 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:37:50.753 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 7.738ms
2025-05-07 23:37:50.754 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:37:50.755 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 16.6269ms
2025-05-07 23:38:17.931 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:38:17.934 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:38:17.935 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - 204 null null 4.1961ms
2025-05-07 23:38:17.970 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:38:17.974 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:38:17.975 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-07 23:38:17.976 +02:00 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteBook(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:38:21.310 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2025-05-07 23:38:29.946 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2025-05-07 23:38:29.951 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'BookCatalog_API.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99a9fe4f-061c-4705-8972-04455721c32e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99a9fe4f-061c-4705-8972-04455721c32e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-07 23:38:30.078 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-05-07 23:38:30.079 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API) in 12101.6257ms
2025-05-07 23:38:30.081 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-07 23:38:30.082 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7261/api/book/books/16 - 400 null text/plain; charset=utf-8 12111.75ms
2025-05-07 23:38:34.817 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:38:34.819 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:38:34.820 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 3.1802ms
2025-05-07 23:38:34.821 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:38:34.824 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:38:34.825 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:38:34.826 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:38:34.830 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:38:34.833 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:38:34.836 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:38:34.838 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 10.0925ms
2025-05-07 23:38:34.839 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:38:34.840 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 19.1437ms
2025-05-07 23:39:10.036 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:39:10.040 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:39:10.041 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 4.8745ms
2025-05-07 23:39:10.043 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:39:10.046 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:39:10.047 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:39:10.048 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:39:10.052 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:39:10.056 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:39:10.058 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:39:10.060 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 9.7086ms
2025-05-07 23:39:10.061 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:39:10.062 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 18.8793ms
2025-05-07 23:39:12.353 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:39:12.357 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:39:12.358 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - 204 null null 4.8585ms
2025-05-07 23:39:12.360 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:39:12.364 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:39:12.365 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-07 23:39:12.366 +02:00 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteBook(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:39:13.914 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2025-05-07 23:39:14.984 +02:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2025-05-07 23:39:14.989 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'BookCatalog_API.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99a9fe4f-061c-4705-8972-04455721c32e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99a9fe4f-061c-4705-8972-04455721c32e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-07 23:39:15.134 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-05-07 23:39:15.136 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API) in 2768.4841ms
2025-05-07 23:39:15.140 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-07 23:39:15.141 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7261/api/book/books/16 - 400 null text/plain; charset=utf-8 2780.7718ms
2025-05-07 23:39:47.373 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:39:47.376 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:39:47.377 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - 204 null null 3.5147ms
2025-05-07 23:39:47.381 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:39:47.385 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:39:47.386 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-07 23:39:47.387 +02:00 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteBook(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:39:50.757 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2025-05-07 23:39:51.948 +02:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2025-05-07 23:39:51.952 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'BookCatalog_API.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99a9fe4f-061c-4705-8972-04455721c32e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:99a9fe4f-061c-4705-8972-04455721c32e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-07 23:40:13.336 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-05-07 23:40:13.397 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API) in 26008.6185ms
2025-05-07 23:40:13.399 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-07 23:40:13.400 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7261/api/book/books/16 - 400 null text/plain; charset=utf-8 26018.6589ms
2025-05-07 23:40:25.133 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/16 - null null
2025-05-07 23:40:25.137 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:40:25.138 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/book/16 - 204 null null 4.3261ms
2025-05-07 23:40:25.138 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/genre/genre/all - null null
2025-05-07 23:40:25.145 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/book/16 - null null
2025-05-07 23:40:25.153 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:40:25.155 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:40:25.156 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/genre/genre/all - 204 null null 18.239ms
2025-05-07 23:40:25.157 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookForEditById (BookCatalog_API)'
2025-05-07 23:40:25.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/genre/genre/all - null null
2025-05-07 23:40:25.161 +02:00 [INF] Route matched with {action = "GetBookForEditById", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookForEditById(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:40:25.163 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:40:25.166 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.GenreController.GetGenres (BookCatalog_API)'
2025-05-07 23:40:25.168 +02:00 [INF] Route matched with {action = "GetGenres", controller = "Genre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.GenreDto]]] GetGenres() on controller BookCatalog_API.Controllers.GenreController (BookCatalog_API).
2025-05-07 23:40:25.169 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b1].[Id], [b1].[AuthorId], [b1].[CoverUrl], [b1].[Description], [b1].[PublicationYear], [b1].[Title], [s].[BookId], [s].[GenreId], [s].[Id], [s].[Name]
FROM (
    SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Books] AS [b]
    WHERE [b].[Id] = @__bookId_0
) AS [b1]
LEFT JOIN (
    SELECT [b0].[BookId], [b0].[GenreId], [g].[Id], [g].[Name]
    FROM [BookGenre] AS [b0]
    INNER JOIN [Genres] AS [g] ON [b0].[GenreId] = [g].[Id]
) AS [s] ON [b1].[Id] = [s].[BookId]
ORDER BY [b1].[Id], [s].[BookId], [s].[GenreId]
2025-05-07 23:40:25.176 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.BookEditDto'.
2025-05-07 23:40:25.178 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookForEditById (BookCatalog_API) in 13.4374ms
2025-05-07 23:40:25.179 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name]
FROM [Genres] AS [g]
2025-05-07 23:40:25.180 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookForEditById (BookCatalog_API)'
2025-05-07 23:40:25.182 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.GenreDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:40:25.183 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/book/16 - 200 null application/json; charset=utf-8 38.3283ms
2025-05-07 23:40:25.185 +02:00 [INF] Executed action BookCatalog_API.Controllers.GenreController.GetGenres (BookCatalog_API) in 15.1723ms
2025-05-07 23:40:25.190 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.GenreController.GetGenres (BookCatalog_API)'
2025-05-07 23:40:25.192 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/genre/genre/all - 200 null application/json; charset=utf-8 33.5091ms
2025-05-07 23:40:26.609 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-07 23:40:26.612 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:40:26.612 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 3.4023ms
2025-05-07 23:40:26.614 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-07 23:40:26.618 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:40:26.619 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:40:26.620 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:40:26.624 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-07 23:40:26.628 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-07 23:40:26.630 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-07 23:40:26.631 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 9.4888ms
2025-05-07 23:40:26.632 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-07 23:40:26.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 19.0421ms
2025-05-07 23:40:30.238 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:40:30.251 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:40:30.254 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - 204 null null 15.8273ms
2025-05-07 23:40:30.257 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:40:30.262 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:40:30.263 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-07 23:40:30.264 +02:00 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteBook(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:40:36.113 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2025-05-07 23:41:07.912 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2025-05-07 23:41:07.916 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'BookCatalog_API.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a5169458-4897-4589-9ffc-8c72407637ca
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a5169458-4897-4589-9ffc-8c72407637ca
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-07 23:48:26.001 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 23:48:26.155 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-07 23:48:26.156 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-07 23:48:26.198 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-07 23:48:26.199 +02:00 [INF] Hosting environment: Development
2025-05-07 23:48:26.200 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-07 23:48:41.321 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:48:41.356 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:48:41.364 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - 204 null null 46.5194ms
2025-05-07 23:48:41.367 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:48:41.373 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:48:41.440 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-07 23:48:41.460 +02:00 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteBook(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:48:44.742 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2025-05-07 23:48:46.166 +02:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2025-05-07 23:48:46.182 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'BookCatalog_API.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e3f5cf32-86b2-490b-9715-2ac342d06aef
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e3f5cf32-86b2-490b-9715-2ac342d06aef
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-07 23:49:12.156 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-07 23:49:12.169 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-07 23:49:12.186 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-07 23:49:12.217 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-07 23:49:12.221 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-07 23:49:12.221 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-07 23:49:12.223 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-07 23:49:12.228 +02:00 [INF] Applying migration '20250507214902_EditedLogs'.
2025-05-07 23:49:12.252 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId];
2025-05-07 23:49:12.253 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Books_BookId];
2025-05-07 23:49:12.284 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookCreateLogs]') AND [c].[name] = N'BookId');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [BookCreateLogs] ALTER COLUMN [BookId] int NULL;
2025-05-07 23:49:12.293 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookCreateLogs]') AND [c].[name] = N'AuthorId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [BookCreateLogs] ALTER COLUMN [AuthorId] int NULL;
2025-05-07 23:49:12.308 +02:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Logs] (
    [Id] int NOT NULL IDENTITY,
    [Message] nvarchar(max) NULL,
    [MessageTemplate] nvarchar(max) NULL,
    [Level] nvarchar(max) NULL,
    [TimeStamp] datetime2 NULL,
    [Exception] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    CONSTRAINT [PK_Logs] PRIMARY KEY ([Id])
);
2025-05-07 23:49:28.222 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-07 23:49:28.394 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-07 23:49:28.396 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-07 23:49:28.431 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-07 23:49:28.432 +02:00 [INF] Hosting environment: Development
2025-05-07 23:49:28.433 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-07 23:49:38.472 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:49:38.509 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:49:38.550 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - 204 null null 81.6553ms
2025-05-07 23:49:38.554 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7261/api/book/books/16 - null null
2025-05-07 23:49:38.559 +02:00 [INF] CORS policy execution successful.
2025-05-07 23:49:38.628 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-07 23:49:38.648 +02:00 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteBook(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-07 23:49:41.961 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2025-05-07 23:49:43.276 +02:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2025-05-07 23:49:43.292 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'BookCatalog_API.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d29e4cf1-68fb-4000-9036-94d52d420206
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d29e4cf1-68fb-4000-9036-94d52d420206
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-07 23:59:08.160 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-07 23:59:08.179 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-07 23:59:08.201 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-07 23:59:15.788 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-07 23:59:15.800 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-07 23:59:15.808 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-07 23:59:15.837 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-07 23:59:15.841 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-07 23:59:15.841 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-07 23:59:15.843 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-07 23:59:15.848 +02:00 [INF] Applying migration '20250507215912_EditedLogs'.
2025-05-07 23:59:15.858 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId];
2025-05-07 23:59:15.860 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Books_BookId];
2025-05-07 23:59:15.878 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookCreateLogs]') AND [c].[name] = N'BookId');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [BookCreateLogs] ALTER COLUMN [BookId] int NULL;
2025-05-07 23:59:15.893 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookCreateLogs]') AND [c].[name] = N'AuthorId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [BookCreateLogs] ALTER COLUMN [AuthorId] int NULL;
2025-05-07 23:59:15.899 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Authors] ([Id]) ON DELETE SET NULL;
2025-05-07 23:59:15.906 +02:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE SET NULL;
2025-05-08 00:01:27.931 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:01:27.948 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:01:27.954 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:01:35.264 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:01:35.277 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-08 00:01:35.285 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-08 00:01:35.315 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-08 00:01:35.319 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:01:35.319 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:01:35.321 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:01:35.326 +02:00 [INF] Applying migration '20250507220132_EditedLogs'.
2025-05-08 00:01:35.336 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId];
2025-05-08 00:01:35.337 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Books_BookId];
2025-05-08 00:01:35.349 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookCreateLogs]') AND [c].[name] = N'BookId');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [BookCreateLogs] ALTER COLUMN [BookId] int NULL;
2025-05-08 00:01:35.359 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookCreateLogs]') AND [c].[name] = N'AuthorId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [BookCreateLogs] ALTER COLUMN [AuthorId] int NULL;
2025-05-08 00:01:35.362 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Authors] ([Id]) ON DELETE SET NULL;
2025-05-08 00:01:35.365 +02:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE SET NULL;
2025-05-08 00:02:29.056 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:02:29.074 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:02:29.081 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:02:39.503 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:02:39.515 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-08 00:02:39.523 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-08 00:02:39.552 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-08 00:02:39.555 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:02:39.556 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:02:39.557 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:02:39.562 +02:00 [INF] Applying migration '20250507220234_EditedLogs'.
2025-05-08 00:02:39.581 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookCreateLogs]') AND [c].[name] = N'BookId');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [BookCreateLogs] ALTER COLUMN [BookId] int NULL;
2025-05-08 00:02:39.592 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BookCreateLogs]') AND [c].[name] = N'AuthorId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [BookCreateLogs] ALTER COLUMN [AuthorId] int NULL;
2025-05-08 00:02:39.595 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250507220234_EditedLogs', N'9.0.3');
2025-05-08 00:02:39.596 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-05-08 00:02:47.078 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-08 00:02:47.228 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-08 00:02:47.229 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-08 00:02:47.267 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-08 00:02:47.268 +02:00 [INF] Hosting environment: Development
2025-05-08 00:02:47.269 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-08 00:02:53.492 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-08 00:02:53.513 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:02:53.516 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 26.9854ms
2025-05-08 00:02:53.519 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-08 00:02:53.526 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:02:53.578 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:02:53.590 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-08 00:02:54.469 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-08 00:02:54.545 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:02:54.609 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 1015.8661ms
2025-05-08 00:02:54.611 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:02:54.619 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 1100.0632ms
2025-05-08 00:02:58.972 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-08 00:02:58.977 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:02:58.978 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 6.1474ms
2025-05-08 00:02:58.980 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-08 00:02:58.985 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:02:58.987 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-08 00:02:58.992 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:02:59.166 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-08 00:02:59.275 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-08 00:02:59.280 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:02:59.292 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 297.0888ms
2025-05-08 00:02:59.293 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-08 00:02:59.295 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 314.414ms
2025-05-08 00:03:03.240 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - null null
2025-05-08 00:03:03.243 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:03:03.244 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - 204 null null 3.8041ms
2025-05-08 00:03:03.248 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7261/api/book/books/16 - null null
2025-05-08 00:03:03.253 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:03:03.256 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-08 00:03:03.264 +02:00 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteBook(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:03:05.277 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2025-05-08 00:03:06.377 +02:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Books]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2025-05-08 00:03:06.395 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'BookCatalog_API.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5dae3865-49df-4893-8626-2a1937a721ca
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_BookCreateLogs_Books_BookId". The conflict occurred in database "BookCatalogDB", table "dbo.BookCreateLogs", column 'BookId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5dae3865-49df-4893-8626-2a1937a721ca
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-08 00:03:58.278 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:03:58.289 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-08 00:03:58.299 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-08 00:03:58.328 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-08 00:03:58.331 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:03:58.332 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:03:58.334 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:03:58.338 +02:00 [INF] Applying migration '20250507220354_EditedLogsV2'.
2025-05-08 00:03:58.346 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId];
2025-05-08 00:03:58.346 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Books_BookId];
2025-05-08 00:03:58.350 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE;
2025-05-08 00:03:58.352 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE;
2025-05-08 00:06:32.728 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:06:32.740 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-08 00:06:32.751 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-08 00:06:32.780 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-08 00:06:32.783 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:06:32.784 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:06:32.785 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:06:32.790 +02:00 [INF] Applying migration '20250507220354_EditedLogsV2'.
2025-05-08 00:06:32.798 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId];
2025-05-08 00:06:32.799 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Books_BookId];
2025-05-08 00:06:32.803 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE;
2025-05-08 00:06:32.805 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE;
2025-05-08 00:06:51.069 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:06:51.089 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:06:51.094 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:06:59.990 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:07:00.002 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-08 00:07:00.011 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-08 00:07:00.042 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-08 00:07:00.046 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:07:00.046 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:07:00.048 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:07:00.052 +02:00 [INF] Applying migration '20250507220354_EditedLogsV2'.
2025-05-08 00:07:00.060 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId];
2025-05-08 00:07:00.061 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Books_BookId];
2025-05-08 00:07:00.064 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE;
2025-05-08 00:07:00.066 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE;
2025-05-08 00:11:43.426 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-08 00:11:43.555 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-08 00:11:43.556 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-08 00:11:43.591 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-08 00:11:43.593 +02:00 [INF] Hosting environment: Development
2025-05-08 00:11:43.594 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-08 00:12:16.112 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:12:16.130 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:12:16.135 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:12:35.372 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:12:35.384 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-08 00:12:35.394 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-08 00:12:35.423 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-08 00:12:35.427 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:12:35.427 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:12:35.429 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:12:35.433 +02:00 [INF] Applying migration '20250507220354_EditedLogsV2'.
2025-05-08 00:12:35.442 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId];
2025-05-08 00:12:35.444 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Books_BookId];
2025-05-08 00:12:35.447 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE;
2025-05-08 00:12:35.450 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE;
2025-05-08 00:12:42.393 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:12:42.412 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:12:42.419 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:13:02.666 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:13:02.678 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-08 00:13:02.686 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-08 00:13:02.715 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-08 00:13:02.718 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:13:02.718 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:13:02.720 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:13:02.725 +02:00 [INF] Applying migration '20250507220354_EditedLogsV2'.
2025-05-08 00:13:02.732 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId];
2025-05-08 00:13:02.732 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Books_BookId];
2025-05-08 00:13:02.736 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE;
2025-05-08 00:13:02.738 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE;
2025-05-08 00:13:34.189 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:13:34.207 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:13:34.212 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:13:42.114 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:13:42.126 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-08 00:13:42.134 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-05-08 00:13:42.165 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-05-08 00:13:42.169 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:13:42.170 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:13:42.172 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:13:42.176 +02:00 [INF] Applying migration '20250507220354_EditedLogsV2'.
2025-05-08 00:13:42.183 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId];
2025-05-08 00:13:42.184 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] DROP CONSTRAINT [FK_BookCreateLogs_Books_BookId];
2025-05-08 00:13:42.187 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Authors_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE;
2025-05-08 00:13:42.190 +02:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BookCreateLogs] ADD CONSTRAINT [FK_BookCreateLogs_Books_BookId] FOREIGN KEY ([BookId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE;
2025-05-08 00:13:51.760 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-08 00:13:51.777 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-05-08 00:13:51.784 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-05-08 00:13:55.559 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-08 00:13:55.761 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-08 00:13:55.763 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-08 00:13:55.803 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-08 00:13:55.804 +02:00 [INF] Hosting environment: Development
2025-05-08 00:13:55.805 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-08 00:14:06.263 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-08 00:14:06.296 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:14:06.352 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 93.948ms
2025-05-08 00:14:06.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-08 00:14:06.367 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:14:06.459 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-08 00:14:06.477 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:14:07.508 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-08 00:14:07.665 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-08 00:14:07.675 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:14:07.695 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 1214.1868ms
2025-05-08 00:14:07.697 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-08 00:14:07.705 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 1348.5859ms
2025-05-08 00:14:11.436 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - null null
2025-05-08 00:14:11.440 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:14:11.442 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/16 - 204 null null 6.0895ms
2025-05-08 00:14:11.444 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7261/api/book/books/16 - null null
2025-05-08 00:14:11.448 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:14:11.450 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-08 00:14:11.459 +02:00 [INF] Route matched with {action = "DeleteBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteBook(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:14:13.851 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__p_0
2025-05-08 00:14:14.221 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title]
FROM [BookCreateLogs] AS [b]
WHERE [b].[BookId] = @__bookId_0
2025-05-08 00:14:17.178 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [BookCreateLogs]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Books]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2025-05-08 00:14:24.039 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-05-08 00:14:24.040 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API) in 12578.8231ms
2025-05-08 00:14:24.041 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.DeleteBook (BookCatalog_API)'
2025-05-08 00:14:24.042 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7261/api/book/books/16 - 200 0 null 12598.2198ms
2025-05-08 00:14:27.798 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-08 00:14:27.816 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:14:27.817 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 18.9945ms
2025-05-08 00:14:27.823 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-08 00:14:27.835 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:14:27.840 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-08 00:14:27.841 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:14:27.903 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-08 00:14:27.912 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-08 00:14:27.915 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:14:27.917 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 74.2599ms
2025-05-08 00:14:27.919 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-08 00:14:27.920 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 97.5913ms
2025-05-08 00:14:45.669 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:14:45.672 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:14:45.673 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 4.8761ms
2025-05-08 00:14:45.675 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:14:45.679 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:14:45.680 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:14:45.685 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:14:45.696 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:14:45.709 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:14:45.714 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 26.9886ms
2025-05-08 00:14:45.715 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:14:45.717 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 41.4552ms
2025-05-08 00:14:48.013 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author/1 - null null
2025-05-08 00:14:48.017 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:14:48.018 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author/1 - 204 null null 5.0282ms
2025-05-08 00:14:48.020 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author/1 - null null
2025-05-08 00:14:48.024 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:14:48.024 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API)'
2025-05-08 00:14:48.028 +02:00 [INF] Route matched with {action = "GetAuthor", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BookCatalog_API.DTOs.AuthorDto]] GetAuthor(Int32) on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:14:48.094 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AuthorInfo], [a0].[Name], [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM (
    SELECT TOP(1) [a].[Id], [a].[AuthorInfo], [a].[Name]
    FROM [Authors] AS [a]
    WHERE [a].[Id] = @__id_0
) AS [a0]
LEFT JOIN [Books] AS [b] ON [a0].[Id] = [b].[AuthorId]
ORDER BY [a0].[Id]
2025-05-08 00:14:48.106 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.AuthorDto'.
2025-05-08 00:14:48.108 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API) in 77.5958ms
2025-05-08 00:14:48.109 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthor (BookCatalog_API)'
2025-05-08 00:14:48.110 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author/1 - 200 null application/json; charset=utf-8 90.0867ms
2025-05-08 00:14:50.078 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:14:50.080 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:14:50.083 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:14:50.084 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:14:50.089 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:14:50.092 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:14:50.093 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 7.2703ms
2025-05-08 00:14:50.094 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:14:50.095 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 17.5535ms
2025-05-08 00:15:54.586 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:15:54.605 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:15:54.615 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 28.9641ms
2025-05-08 00:15:54.698 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:15:54.711 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:15:54.712 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:15:54.713 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:15:54.718 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:15:54.720 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:15:54.722 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 6.6833ms
2025-05-08 00:15:54.723 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:15:54.724 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 26.5274ms
2025-05-08 00:15:55.426 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-08 00:15:55.429 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:15:55.430 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 3.6773ms
2025-05-08 00:15:55.432 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-08 00:15:55.437 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:15:55.441 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:15:55.445 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-08 00:15:55.464 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-08 00:15:55.488 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:15:55.507 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 53.2588ms
2025-05-08 00:15:55.508 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:15:55.509 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 76.9115ms
2025-05-08 00:16:24.773 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:16:24.779 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:16:24.780 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 7.1632ms
2025-05-08 00:16:24.783 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:16:24.787 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:16:24.789 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:16:24.790 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:16:24.796 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:16:24.803 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:16:24.805 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 11.5674ms
2025-05-08 00:16:24.808 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:16:24.809 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 26.4633ms
2025-05-08 00:16:24.881 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-08 00:16:24.884 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:16:24.885 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 3.3381ms
2025-05-08 00:16:24.887 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-08 00:16:24.892 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:16:24.894 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:16:24.896 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-08 00:16:24.903 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-08 00:16:24.910 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:16:24.917 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 18.02ms
2025-05-08 00:16:24.919 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:16:24.921 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 33.5316ms
2025-05-08 00:18:19.743 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:18:19.745 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:18:19.746 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 3.4667ms
2025-05-08 00:18:19.749 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:18:19.751 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:18:19.752 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:18:19.754 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:18:19.760 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:18:19.763 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:18:19.764 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 8.0904ms
2025-05-08 00:18:19.766 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:18:19.767 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 17.8113ms
2025-05-08 00:18:20.405 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-08 00:18:20.408 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:18:20.409 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 3.7832ms
2025-05-08 00:18:20.411 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-08 00:18:20.414 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:18:20.415 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:18:20.416 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-08 00:18:20.422 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-08 00:18:20.432 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:18:20.435 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 16.5703ms
2025-05-08 00:18:20.436 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:18:20.438 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 26.667ms
2025-05-08 00:18:36.499 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:18:36.510 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:18:36.511 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 12.0496ms
2025-05-08 00:18:36.513 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:18:36.517 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:18:36.518 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:18:36.519 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:18:36.523 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:18:36.526 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:18:36.527 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 6.0315ms
2025-05-08 00:18:36.529 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:18:36.530 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 16.5874ms
2025-05-08 00:18:37.414 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-08 00:18:37.416 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:18:37.418 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 3.5989ms
2025-05-08 00:18:37.420 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-08 00:18:37.424 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:18:37.425 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:18:37.426 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-08 00:18:37.431 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-08 00:18:37.436 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:18:37.479 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 51.0811ms
2025-05-08 00:18:37.481 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:18:37.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 61.7313ms
2025-05-08 00:20:03.067 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:20:03.071 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:20:03.071 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 34.0991ms
2025-05-08 00:20:03.074 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:20:03.076 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:20:03.077 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:20:03.078 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:20:03.082 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:20:03.085 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:20:03.086 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 6.0882ms
2025-05-08 00:20:03.087 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:20:03.088 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 14.5533ms
2025-05-08 00:20:03.406 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-08 00:20:03.408 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:20:03.409 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 3.6438ms
2025-05-08 00:20:03.412 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-08 00:20:03.415 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:20:03.416 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:20:03.417 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-08 00:20:03.420 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-08 00:20:03.426 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:20:03.433 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 14.4983ms
2025-05-08 00:20:03.435 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:20:03.436 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 24.0017ms
2025-05-08 00:21:52.154 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:21:52.165 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:21:52.166 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 11.342ms
2025-05-08 00:21:52.169 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:21:52.173 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:21:52.174 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:21:52.175 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:21:52.180 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:21:52.182 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:21:52.186 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 8.3399ms
2025-05-08 00:21:52.187 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:21:52.188 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 19.8546ms
2025-05-08 00:21:52.407 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-08 00:21:52.410 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:21:52.411 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 3.6429ms
2025-05-08 00:21:52.413 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-08 00:21:52.418 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:21:52.419 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:21:52.420 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-08 00:21:52.423 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-08 00:21:52.427 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:21:52.430 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 8.1566ms
2025-05-08 00:21:52.431 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:21:52.433 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 20.2221ms
2025-05-08 00:21:57.450 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:21:57.463 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:21:57.464 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 14.2229ms
2025-05-08 00:21:57.466 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:21:57.470 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:21:57.470 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:21:57.471 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:21:57.475 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:21:57.477 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:21:57.479 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 5.3554ms
2025-05-08 00:21:57.481 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:21:57.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 15.6953ms
2025-05-08 00:21:57.566 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-08 00:21:57.568 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:21:57.569 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 3.3357ms
2025-05-08 00:21:57.571 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-08 00:21:57.574 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:21:57.575 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:21:57.577 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-08 00:21:57.580 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-08 00:21:57.584 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:21:57.587 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 8.1588ms
2025-05-08 00:21:57.588 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:21:57.589 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 18.203ms
2025-05-08 00:23:21.828 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-08 00:23:22.005 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-08 00:23:22.006 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-08 00:23:22.046 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-08 00:23:22.047 +02:00 [INF] Hosting environment: Development
2025-05-08 00:23:22.048 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-08 00:23:33.573 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author/2 - null null
2025-05-08 00:23:33.605 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:23:33.610 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author/2 - 204 null null 40.4782ms
2025-05-08 00:23:33.613 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7261/api/author/author/2 - null null
2025-05-08 00:23:33.618 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:23:33.689 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.DeleteAuthor (BookCatalog_API)'
2025-05-08 00:23:33.709 +02:00 [INF] Route matched with {action = "DeleteAuthor", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteAuthor(Int32) on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:23:37.794 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-08 00:23:38.439 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title]
FROM [BookCreateLogs] AS [b]
WHERE [b].[AuthorId] = @__id_0
2025-05-08 00:23:40.619 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Authors]
OUTPUT 1
WHERE [Id] = @p0;
2025-05-08 00:23:41.921 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-05-08 00:23:41.925 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.DeleteAuthor (BookCatalog_API) in 8211.1427ms
2025-05-08 00:23:41.926 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.DeleteAuthor (BookCatalog_API)'
2025-05-08 00:23:41.935 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7261/api/author/author/2 - 200 0 null 8322.4136ms
2025-05-08 00:23:44.784 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:23:44.788 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:23:44.790 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 5.8908ms
2025-05-08 00:23:44.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:23:44.802 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:23:44.804 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:23:44.810 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:23:44.860 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:23:44.879 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:23:44.892 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 78.9629ms
2025-05-08 00:23:44.893 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:23:44.894 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 102.749ms
2025-05-08 00:24:09.011 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/3 - null null
2025-05-08 00:24:09.023 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:09.025 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/3 - 204 null null 13.7585ms
2025-05-08 00:24:09.027 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/3 - null null
2025-05-08 00:24:09.033 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:09.036 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API)'
2025-05-08 00:24:09.041 +02:00 [INF] Route matched with {action = "GetAuthorBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAuthorBooks(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:24:09.107 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__authorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[AuthorId] = @__authorId_0
2025-05-08 00:24:09.142 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-08 00:24:09.146 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:24:09.154 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API) in 111.1116ms
2025-05-08 00:24:09.155 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API)'
2025-05-08 00:24:09.156 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/3 - 200 null application/json; charset=utf-8 129.1422ms
2025-05-08 00:24:13.999 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:24:14.003 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:14.004 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 4.3753ms
2025-05-08 00:24:14.006 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:24:14.009 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:14.010 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:24:14.012 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:24:14.017 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:24:14.019 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:24:14.021 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 7.7138ms
2025-05-08 00:24:14.022 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:24:14.024 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 18.0371ms
2025-05-08 00:24:19.515 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-08 00:24:19.519 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:19.520 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 5.0449ms
2025-05-08 00:24:19.523 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-08 00:24:19.525 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:19.527 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-08 00:24:19.531 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:24:19.540 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-08 00:24:19.545 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-08 00:24:19.548 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:24:19.549 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 16.52ms
2025-05-08 00:24:19.550 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-08 00:24:19.551 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 28.659ms
2025-05-08 00:24:23.596 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/favourites - null null
2025-05-08 00:24:23.599 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:23.600 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/favourites - 204 null null 4.0287ms
2025-05-08 00:24:23.602 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/favourites - null null
2025-05-08 00:24:23.605 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:23.612 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API)'
2025-05-08 00:24:23.615 +02:00 [INF] Route matched with {action = "GetFavourites", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetFavourites() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:24:23.688 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u0].[Id], [u0].[Email], [u0].[PasswordHash], [u0].[PasswordSalt], [u0].[Role], [u0].[Username], [s].[UserId], [s].[BookId], [s].[Id], [s].[AuthorId], [s].[CoverUrl], [s].[Description], [s].[PublicationYear], [s].[Title]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Id] = @__userId_0
) AS [u0]
LEFT JOIN (
    SELECT [f].[UserId], [f].[BookId], [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
    FROM [Favourite] AS [f]
    INNER JOIN [Books] AS [b] ON [f].[BookId] = [b].[Id]
) AS [s] ON [u0].[Id] = [s].[UserId]
ORDER BY [u0].[Id], [s].[UserId], [s].[BookId]
2025-05-08 00:24:23.727 +02:00 [INF] Executing OkObjectResult, writing value of type 'BookCatalog_API.DTOs.FavouriteDto'.
2025-05-08 00:24:23.729 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API) in 111.9728ms
2025-05-08 00:24:23.730 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetFavourites (BookCatalog_API)'
2025-05-08 00:24:23.731 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/favourites - 200 null application/json; charset=utf-8 129.486ms
2025-05-08 00:24:24.338 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - null null
2025-05-08 00:24:24.342 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:24.343 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - 204 null null 4.7464ms
2025-05-08 00:24:24.345 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/members/get-users - null null
2025-05-08 00:24:24.348 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:24.349 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-08 00:24:24.353 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Members"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUsers() on controller BookCatalog_API.Controllers.MembersController (BookCatalog_API).
2025-05-08 00:24:24.363 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
FROM [Users] AS [u]
2025-05-08 00:24:24.368 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.MemberDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:24:24.371 +02:00 [INF] Executed action BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API) in 16.1027ms
2025-05-08 00:24:24.372 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-08 00:24:24.373 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/members/get-users - 200 null application/json; charset=utf-8 28.0361ms
2025-05-08 00:24:25.746 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:24:25.752 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:25.753 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 6.5305ms
2025-05-08 00:24:25.755 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:24:25.758 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:25.759 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:24:25.762 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:24:25.776 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-08 00:24:25.794 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-05-08 00:24:25.796 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 31.5902ms
2025-05-08 00:24:25.797 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:24:25.798 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 204 null null 43.4146ms
2025-05-08 00:24:28.942 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:24:28.946 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:28.947 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:24:28.949 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:24:28.952 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-08 00:24:28.955 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-05-08 00:24:28.957 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 5.9812ms
2025-05-08 00:24:28.958 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:24:28.959 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 204 null null 17.7165ms
2025-05-08 00:24:32.800 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:24:32.802 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:32.803 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 3.1269ms
2025-05-08 00:24:32.805 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:24:32.809 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:32.810 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:24:32.810 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:24:32.813 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:24:32.816 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:24:32.817 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 4.6176ms
2025-05-08 00:24:32.818 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:24:32.819 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 13.8011ms
2025-05-08 00:24:44.569 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author/create - null null
2025-05-08 00:24:44.571 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:44.572 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author/create - 204 null null 3.0771ms
2025-05-08 00:24:44.574 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7261/api/author/author/create - application/json 54
2025-05-08 00:24:44.577 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:44.578 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.CreateAuthor (BookCatalog_API)'
2025-05-08 00:24:44.582 +02:00 [INF] Route matched with {action = "CreateAuthor", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateAuthor(BookCatalog_API.DTOs.AuthorCreateDto) on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:24:44.630 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Authors] ([AuthorInfo], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-05-08 00:24:44.643 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-05-08 00:24:44.644 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.CreateAuthor (BookCatalog_API) in 60.5882ms
2025-05-08 00:24:44.645 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.CreateAuthor (BookCatalog_API)'
2025-05-08 00:24:44.646 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7261/api/author/author/create - 200 0 null 72.0157ms
2025-05-08 00:24:44.653 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:24:44.655 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:44.656 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 2.8017ms
2025-05-08 00:24:44.658 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:24:44.661 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:44.662 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:24:44.662 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:24:44.666 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:24:44.669 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:24:44.670 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 5.4607ms
2025-05-08 00:24:44.671 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:24:44.672 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 14.2062ms
2025-05-08 00:24:47.963 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/14 - null null
2025-05-08 00:24:47.966 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:47.968 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/14 - 204 null null 5.3204ms
2025-05-08 00:24:47.975 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/14 - null null
2025-05-08 00:24:47.978 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:47.979 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API)'
2025-05-08 00:24:47.980 +02:00 [INF] Route matched with {action = "GetAuthorBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAuthorBooks(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:24:47.986 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__authorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[AuthorId] = @__authorId_0
2025-05-08 00:24:47.989 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-08 00:24:47.992 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:24:47.993 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API) in 10.7669ms
2025-05-08 00:24:47.994 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API)'
2025-05-08 00:24:47.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/14 - 200 null application/json; charset=utf-8 19.375ms
2025-05-08 00:24:48.721 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/genre/genre/all - null null
2025-05-08 00:24:48.726 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:48.726 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/genre/genre/all - 204 null null 5.5472ms
2025-05-08 00:24:48.728 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/genre/genre/all - null null
2025-05-08 00:24:48.732 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:24:48.733 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.GenreController.GetGenres (BookCatalog_API)'
2025-05-08 00:24:48.736 +02:00 [INF] Route matched with {action = "GetGenres", controller = "Genre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.GenreDto]]] GetGenres() on controller BookCatalog_API.Controllers.GenreController (BookCatalog_API).
2025-05-08 00:24:48.745 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name]
FROM [Genres] AS [g]
2025-05-08 00:24:48.754 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.GenreDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:24:48.756 +02:00 [INF] Executed action BookCatalog_API.Controllers.GenreController.GetGenres (BookCatalog_API) in 17.8143ms
2025-05-08 00:24:48.757 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.GenreController.GetGenres (BookCatalog_API)'
2025-05-08 00:24:48.758 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/genre/genre/all - 200 null application/json; charset=utf-8 29.7481ms
2025-05-08 00:25:02.932 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/book/create/14 - null null
2025-05-08 00:25:02.934 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:25:02.935 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/book/create/14 - 204 null null 3.1253ms
2025-05-08 00:25:02.937 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7261/api/book/book/create/14 - application/json 157
2025-05-08 00:25:02.940 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:25:02.941 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.AddBook (BookCatalog_API)'
2025-05-08 00:25:02.944 +02:00 [INF] Route matched with {action = "AddBook", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] AddBook(Int32, BookCatalog_API.DTOs.BookCreateDto) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:25:16.582 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-08 00:25:16.633 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Name]
FROM [Genres] AS [g]
WHERE [g].[Id] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] int '$') AS [s]
)
2025-05-08 00:25:16.679 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Date), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([AuthorId], [CoverUrl], [Description], [PublicationYear], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Books]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2025-05-08 00:25:16.688 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookGenre] ([BookId], [GenreId])
VALUES (@p5, @p6);
2025-05-08 00:25:16.698 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-05-08 00:25:16.698 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.AddBook (BookCatalog_API) in 13752.4898ms
2025-05-08 00:25:16.700 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.AddBook (BookCatalog_API)'
2025-05-08 00:25:16.701 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7261/api/book/book/create/14 - 200 0 null 13764.1176ms
2025-05-08 00:25:16.709 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/14 - null null
2025-05-08 00:25:16.712 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:25:16.714 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/14 - 204 null null 4.524ms
2025-05-08 00:25:16.720 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/14 - null null
2025-05-08 00:25:16.722 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:25:16.723 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API)'
2025-05-08 00:25:16.724 +02:00 [INF] Route matched with {action = "GetAuthorBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAuthorBooks(Int32) on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:25:16.728 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__authorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[AuthorId] = @__authorId_0
2025-05-08 00:25:16.732 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-08 00:25:16.734 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:25:16.735 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API) in 9.7023ms
2025-05-08 00:25:16.736 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAuthorBooks (BookCatalog_API)'
2025-05-08 00:25:16.738 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/14 - 200 null application/json; charset=utf-8 18.0135ms
2025-05-08 00:25:25.921 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books - null null
2025-05-08 00:25:25.926 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:25:25.926 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books - 204 null null 5.0549ms
2025-05-08 00:25:25.928 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books - null null
2025-05-08 00:25:25.932 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:25:25.933 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-08 00:25:25.934 +02:00 [INF] Route matched with {action = "GetAllBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllBooks() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:25:25.938 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CoverUrl], [b].[Description], [b].[PublicationYear], [b].[Title]
FROM [Books] AS [b]
2025-05-08 00:25:25.941 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[BookId]
FROM [Favourite] AS [f]
WHERE [f].[UserId] = @__userId_0
2025-05-08 00:25:25.943 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:25:25.945 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API) in 9.3988ms
2025-05-08 00:25:25.947 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetAllBooks (BookCatalog_API)'
2025-05-08 00:25:25.948 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books - 200 null application/json; charset=utf-8 19.7124ms
2025-05-08 00:25:31.714 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - null null
2025-05-08 00:25:31.718 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:25:31.719 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - 204 null null 5.0447ms
2025-05-08 00:25:31.721 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/members/get-users - null null
2025-05-08 00:25:31.725 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:25:31.726 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-08 00:25:31.726 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Members"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUsers() on controller BookCatalog_API.Controllers.MembersController (BookCatalog_API).
2025-05-08 00:25:31.731 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
FROM [Users] AS [u]
2025-05-08 00:25:31.734 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.MemberDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:25:31.735 +02:00 [INF] Executed action BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API) in 6.2245ms
2025-05-08 00:25:31.736 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-08 00:25:31.737 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/members/get-users - 200 null application/json; charset=utf-8 15.6052ms
2025-05-08 00:25:32.822 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:25:32.825 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:25:32.826 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 3.1241ms
2025-05-08 00:25:32.827 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:25:32.830 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:25:32.831 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:25:32.832 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:25:32.836 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-08 00:25:32.839 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-05-08 00:25:32.840 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 5.8153ms
2025-05-08 00:25:32.841 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:25:32.842 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 204 null null 14.4158ms
2025-05-08 00:27:30.787 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:27:30.834 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:27:30.836 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 48.8468ms
2025-05-08 00:27:30.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:27:30.860 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:27:30.862 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:27:30.864 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:27:30.878 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-08 00:27:30.901 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-05-08 00:27:30.914 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 47.2225ms
2025-05-08 00:27:30.916 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:27:30.917 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 204 null null 76.4398ms
2025-05-08 00:27:31.418 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-08 00:27:31.420 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:27:31.422 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 3.6841ms
2025-05-08 00:27:31.425 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-08 00:27:31.428 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:27:31.430 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:27:31.434 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-08 00:27:31.446 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-08 00:27:31.494 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:27:31.548 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 111.54ms
2025-05-08 00:27:31.550 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:27:31.551 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 126.3661ms
2025-05-08 00:27:52.654 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:27:52.768 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:27:52.769 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 114.8873ms
2025-05-08 00:27:52.772 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:27:52.782 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:27:52.783 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:27:52.784 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:27:52.789 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-08 00:27:52.799 +02:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-05-08 00:27:52.812 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 26.0682ms
2025-05-08 00:27:52.815 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:27:52.816 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 204 null null 43.9655ms
2025-05-08 00:27:53.417 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-08 00:27:53.419 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:27:53.420 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 3.3046ms
2025-05-08 00:27:53.422 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-08 00:27:53.427 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:27:53.428 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:27:53.429 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-08 00:27:53.433 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-08 00:27:53.438 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:27:53.477 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 46.8571ms
2025-05-08 00:27:53.479 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:27:53.480 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 57.8092ms
2025-05-08 00:28:33.372 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:28:33.386 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:28:33.386 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 14.8322ms
2025-05-08 00:28:33.388 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:28:33.392 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:28:33.393 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:28:33.394 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:28:35.544 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-08 00:28:51.798 +02:00 [INF] User profile is available. Using 'C:\Users\kirikosha\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-08 00:28:51.939 +02:00 [INF] Now listening on: https://localhost:7261
2025-05-08 00:28:51.940 +02:00 [INF] Now listening on: http://localhost:5238
2025-05-08 00:28:51.974 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-08 00:28:51.976 +02:00 [INF] Hosting environment: Development
2025-05-08 00:28:51.976 +02:00 [INF] Content root path: C:\Study\University\.NET_DATA\Lb\PNET_Бiлецький_Данило\BookCatalog_API
2025-05-08 00:28:55.839 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:28:55.876 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:28:55.880 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 44.5266ms
2025-05-08 00:28:55.883 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:28:55.892 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:28:55.948 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:28:55.960 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:28:57.979 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-08 00:28:58.910 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookLogsDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:28:58.931 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 2967.5254ms
2025-05-08 00:28:58.933 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:28:58.940 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 200 null application/json; charset=utf-8 3057.0964ms
2025-05-08 00:29:14.751 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:29:14.755 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:14.756 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 5.1643ms
2025-05-08 00:29:14.758 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:29:14.762 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:14.764 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:29:14.769 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:29:14.822 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:29:14.831 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:29:14.833 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 61.702ms
2025-05-08 00:29:14.834 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:29:14.835 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 77.6351ms
2025-05-08 00:29:16.990 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author/14 - null null
2025-05-08 00:29:16.993 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:16.994 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author/14 - 204 null null 3.3384ms
2025-05-08 00:29:16.995 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7261/api/author/author/14 - null null
2025-05-08 00:29:16.999 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:17.002 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.DeleteAuthor (BookCatalog_API)'
2025-05-08 00:29:17.010 +02:00 [INF] Route matched with {action = "DeleteAuthor", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteAuthor(Int32) on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:29:26.673 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-08 00:29:26.689 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title]
FROM [BookCreateLogs] AS [b]
WHERE [b].[AuthorId] = @__id_0
2025-05-08 00:29:26.777 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [BookCreateLogs]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Authors]
OUTPUT 1
WHERE [Id] = @p1;
2025-05-08 00:29:26.797 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-05-08 00:29:26.798 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.DeleteAuthor (BookCatalog_API) in 9785.8365ms
2025-05-08 00:29:26.799 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.DeleteAuthor (BookCatalog_API)'
2025-05-08 00:29:26.800 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7261/api/author/author/14 - 200 0 null 9804.6115ms
2025-05-08 00:29:30.819 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - null null
2025-05-08 00:29:30.821 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:30.822 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - 204 null null 3.484ms
2025-05-08 00:29:30.825 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/members/get-users - null null
2025-05-08 00:29:30.828 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:30.829 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-08 00:29:30.834 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Members"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUsers() on controller BookCatalog_API.Controllers.MembersController (BookCatalog_API).
2025-05-08 00:29:30.846 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
FROM [Users] AS [u]
2025-05-08 00:29:30.864 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.MemberDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:29:30.868 +02:00 [INF] Executed action BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API) in 31.7899ms
2025-05-08 00:29:30.869 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-08 00:29:30.870 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/members/get-users - 200 null application/json; charset=utf-8 44.7767ms
2025-05-08 00:29:31.991 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:29:31.995 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:31.996 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 4.5136ms
2025-05-08 00:29:31.998 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:29:32.004 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:32.005 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:29:32.006 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:29:32.015 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-08 00:29:32.018 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookLogsDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:29:32.020 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 11.0442ms
2025-05-08 00:29:32.021 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:29:32.022 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 200 null application/json; charset=utf-8 24.4481ms
2025-05-08 00:29:44.539 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:29:44.546 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:44.547 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 8.8599ms
2025-05-08 00:29:44.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:29:44.554 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:44.555 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:29:44.556 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:29:44.564 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-08 00:29:44.572 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookLogsDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:29:44.574 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 14.6929ms
2025-05-08 00:29:44.577 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:29:44.578 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 200 null application/json; charset=utf-8 27.4128ms
2025-05-08 00:29:44.777 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-08 00:29:44.779 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:44.781 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 3.6994ms
2025-05-08 00:29:44.783 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-08 00:29:44.786 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:44.787 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:29:44.791 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-08 00:29:44.801 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-08 00:29:44.824 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:29:44.844 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 51.8422ms
2025-05-08 00:29:44.846 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:29:44.847 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 63.4634ms
2025-05-08 00:29:50.735 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:29:50.740 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:50.741 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 5.9668ms
2025-05-08 00:29:50.749 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:29:50.752 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:29:50.753 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:29:50.754 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:29:50.759 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-08 00:29:50.762 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookLogsDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:29:50.763 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 7.7792ms
2025-05-08 00:29:50.764 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:29:50.765 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 200 null application/json; charset=utf-8 16.1508ms
2025-05-08 00:31:12.141 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:31:12.190 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:31:12.191 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/book/books/logs - 204 null null 49.7236ms
2025-05-08 00:31:12.195 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/book/books/logs - null null
2025-05-08 00:31:12.206 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:31:12.208 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:31:12.209 +02:00 [INF] Route matched with {action = "GetBookLogs", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetBookLogs() on controller BookCatalog_API.Controllers.BookController (BookCatalog_API).
2025-05-08 00:31:12.217 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId], [b].[InsertedAt], [b].[Title], [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [BookCreateLogs] AS [b]
LEFT JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
2025-05-08 00:31:12.222 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.BookLogsDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:31:12.225 +02:00 [INF] Executed action BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API) in 11.537ms
2025-05-08 00:31:12.227 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.BookController.GetBookLogs (BookCatalog_API)'
2025-05-08 00:31:12.228 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/book/books/logs - 200 null application/json; charset=utf-8 33.2931ms
2025-05-08 00:31:12.421 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-08 00:31:12.424 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:31:12.425 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 3.8876ms
2025-05-08 00:31:12.453 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-08 00:31:12.460 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:31:12.461 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:31:12.462 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-08 00:31:12.466 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-08 00:31:12.473 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:31:12.476 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 12.2431ms
2025-05-08 00:31:12.478 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:31:12.479 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 51.1951ms
2025-05-08 00:31:14.302 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/author/author - null null
2025-05-08 00:31:14.305 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:31:14.306 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/author/author - 204 null null 3.623ms
2025-05-08 00:31:14.308 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/author/author - null null
2025-05-08 00:31:14.311 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:31:14.312 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:31:14.313 +02:00 [INF] Route matched with {action = "GetAuthors", controller = "Author"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[BookCatalog_API.DTOs.AuthorDto]]] GetAuthors() on controller BookCatalog_API.Controllers.AuthorController (BookCatalog_API).
2025-05-08 00:31:14.319 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AuthorInfo], [a].[Name]
FROM [Authors] AS [a]
2025-05-08 00:31:14.322 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.AuthorDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:31:14.324 +02:00 [INF] Executed action BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API) in 8.3191ms
2025-05-08 00:31:14.325 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.AuthorController.GetAuthors (BookCatalog_API)'
2025-05-08 00:31:14.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/author/author - 200 null application/json; charset=utf-8 18.1731ms
2025-05-08 00:31:24.236 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - null null
2025-05-08 00:31:24.238 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:31:24.240 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/members/get-users - 204 null null 3.8937ms
2025-05-08 00:31:24.242 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/members/get-users - null null
2025-05-08 00:31:24.245 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:31:24.246 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-08 00:31:24.247 +02:00 [INF] Route matched with {action = "GetUsers", controller = "Members"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUsers() on controller BookCatalog_API.Controllers.MembersController (BookCatalog_API).
2025-05-08 00:31:24.251 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
FROM [Users] AS [u]
2025-05-08 00:31:24.253 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.DTOs.MemberDto, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:31:24.254 +02:00 [INF] Executed action BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API) in 5.777ms
2025-05-08 00:31:24.255 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.MembersController.GetUsers (BookCatalog_API)'
2025-05-08 00:31:24.256 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/members/get-users - 200 null application/json; charset=utf-8 14.479ms
2025-05-08 00:31:25.587 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7261/api/server/logs - null null
2025-05-08 00:31:25.592 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:31:25.593 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7261/api/server/logs - 204 null null 5.9904ms
2025-05-08 00:31:25.597 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7261/api/server/logs - null null
2025-05-08 00:31:25.601 +02:00 [INF] CORS policy execution successful.
2025-05-08 00:31:25.602 +02:00 [INF] Executing endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:31:25.603 +02:00 [INF] Route matched with {action = "GetLogs", controller = "Server"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetLogs() on controller BookCatalog_API.Controllers.ServerController (BookCatalog_API).
2025-05-08 00:31:25.608 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Exception], [l].[Level], [l].[Message], [l].[MessageTemplate], [l].[Properties], [l].[TimeStamp]
FROM [Logs] AS [l]
2025-05-08 00:31:25.613 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BookCatalog_API.Entities.Log, BookCatalog_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 00:31:25.616 +02:00 [INF] Executed action BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API) in 10.356ms
2025-05-08 00:31:25.617 +02:00 [INF] Executed endpoint 'BookCatalog_API.Controllers.ServerController.GetLogs (BookCatalog_API)'
2025-05-08 00:31:25.618 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7261/api/server/logs - 200 null application/json; charset=utf-8 20.7888ms
